(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-walletconnect"],{"0458":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("44cf");async function r(t,e){return await Object(i.c)(t,e)}n("c5eb")},1666:function(t,e,n){"use strict";(function(t){var i=n("9b80"),r=n("7580");const o=void 0!==t.WebSocket?t.WebSocket:n("4665");e.a=class{constructor(t){if(this.opts=t,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=t.protocol,this._version=t.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=t.subscriptions||[],this._netMonitor=t.netMonitor||new r.a,!t.url||"string"!=typeof t.url)throw new Error("Missing or invalid WebSocket url");this._url=t.url,this._netMonitor.on("online",(()=>this._socketCreate()))}set readyState(t){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(t){}get connecting(){return 0===this.readyState}set connected(t){}get connected(){return 1===this.readyState}set closing(t){}get closing(){return 2===this.readyState}set closed(t){}get closed(){return 3===this.readyState}open(){this._socketCreate()}close(){this._socketClose()}send(t,e,n){if(!e||"string"!=typeof e)throw new Error("Missing or invalid topic field");this._socketSend({topic:e,type:"pub",payload:t,silent:!!n})}subscribe(t){this._socketSend({topic:t,type:"sub",payload:"",silent:!0})}on(t,e){this._events.push({event:t,callback:e})}_socketCreate(){if(this._nextSocket)return;const t=function(t,e,n){var r,o;const s=(t.startsWith("https")?t.replace("https","wss"):t.startsWith("http")?t.replace("http","ws"):t).split("?"),a=Object(i.o)()?{protocol:e,version:n,env:"browser",host:(null===(r=Object(i.l)())||void 0===r?void 0:r.host)||""}:{protocol:e,version:n,env:(null===(o=Object(i.g)())||void 0===o?void 0:o.name)||""},c=Object(i.a)(Object(i.m)(s[1]||""),a);return s[0]+"?"+c}(this._url,this._protocol,this._version);if(this._nextSocket=new o(t),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=t=>this._socketReceive(t),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=t=>this._socketError(t),this._nextSocket.onclose=()=>{setTimeout((()=>{this._nextSocket=null,this._socketCreate()}),1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(t){const e=JSON.stringify(t);this._socket&&1===this._socket.readyState?this._socket.send(e):(this._setToQueue(t),this._socketCreate())}async _socketReceive(t){let e;try{e=JSON.parse(t.data)}catch(t){return}if(this._socketSend({topic:e.topic,type:"ack",payload:"",silent:!0}),this._socket&&1===this._socket.readyState){const t=this._events.filter((t=>"message"===t.event));t&&t.length&&t.forEach((t=>t.callback(e)))}}_socketError(t){const e=this._events.filter((t=>"error"===t.event));e&&e.length&&e.forEach((e=>e.callback(t)))}_queueSubscriptions(){this._subscriptions.forEach((t=>this._queue.push({topic:t,type:"sub",payload:"",silent:!0}))),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(t){this._queue.push(t)}_pushQueue(){this._queue.forEach((t=>this._socketSend(t))),this._queue=[]}}}).call(this,n("c8ba"))},"18cd":function(t,e,n){"use strict";n("acd6"),n("cbd4");var i=n("4797");n.o(i,"payloadId")&&n.d(e,"payloadId",(function(){return i.payloadId}));var r=n("c9ad");n.d(e,"payloadId",(function(){return r.a})),n("a80d"),n("fca1"),n("7896"),n("cad0")},"2aab":function(t,e,n){"use strict";n.r(e),n.d(e,"detectEnv",(function(){return s})),n.d(e,"detectOS",(function(){return a})),n.d(e,"isAndroid",(function(){return c})),n.d(e,"isIOS",(function(){return h})),n.d(e,"isMobile",(function(){return u})),n.d(e,"isNode",(function(){return l})),n.d(e,"isBrowser",(function(){return d})),n.d(e,"getFromWindow",(function(){return f})),n.d(e,"getFromWindowOrThrow",(function(){return p})),n.d(e,"getDocumentOrThrow",(function(){return m})),n.d(e,"getDocument",(function(){return g})),n.d(e,"getNavigatorOrThrow",(function(){return _})),n.d(e,"getNavigator",(function(){return w})),n.d(e,"getLocationOrThrow",(function(){return v})),n.d(e,"getLocation",(function(){return b})),n.d(e,"getCryptoOrThrow",(function(){return y})),n.d(e,"getCrypto",(function(){return M})),n.d(e,"getLocalStorageOrThrow",(function(){return k})),n.d(e,"getLocalStorage",(function(){return x})),n.d(e,"getClientMeta",(function(){return S})),n.d(e,"safeJsonParse",(function(){return I})),n.d(e,"safeJsonStringify",(function(){return O})),n.d(e,"setLocal",(function(){return C})),n.d(e,"getLocal",(function(){return E})),n.d(e,"removeLocal",(function(){return q})),n.d(e,"mobileLinkChoiceKey",(function(){return R})),n.d(e,"formatIOSMobile",(function(){return j})),n.d(e,"saveMobileLinkInfo",(function(){return T})),n.d(e,"getMobileRegistryEntry",(function(){return N})),n.d(e,"getMobileLinkRegistry",(function(){return L})),n.d(e,"getWalletRegistryUrl",(function(){return P})),n.d(e,"getDappRegistryUrl",(function(){return W})),n.d(e,"formatMobileRegistryEntry",(function(){return z})),n.d(e,"formatMobileRegistry",(function(){return U}));var i=n("40e5"),r=n("aae3"),o=n("7b46");function s(t){return Object(o.a)(t)}function a(){const t=s();return t&&t.os?t.os:void 0}function c(){const t=a();return!!t&&t.toLowerCase().includes("android")}function h(){const t=a();return!!t&&(t.toLowerCase().includes("ios")||t.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1)}function u(){return!!a()&&(c()||h())}function l(){const t=s();return!(!t||!t.name)&&"node"===t.name.toLowerCase()}function d(){return!l()&&!!w()}const f=r.getFromWindow,p=r.getFromWindowOrThrow,m=r.getDocumentOrThrow,g=r.getDocument,_=r.getNavigatorOrThrow,w=r.getNavigator,v=r.getLocationOrThrow,b=r.getLocation,y=r.getCryptoOrThrow,M=r.getCrypto,k=r.getLocalStorageOrThrow,x=r.getLocalStorage;function S(){return i.getWindowMetadata()}const I=function(t){if("string"!=typeof t)throw new Error("Cannot safe json parse value of type "+typeof t);try{return JSON.parse(t)}catch(e){return t}},O=function(t){return"string"==typeof t?t:JSON.stringify(t)};function C(t,e){const n=O(e),i=x();i&&i.setItem(t,n)}function E(t){let e=null,n=null;const i=x();return i&&(n=i.getItem(t)),e=n?I(n):n,e}function q(t){const e=x();e&&e.removeItem(t)}const R="WALLETCONNECT_DEEPLINK_CHOICE";function j(t,e){const n=encodeURIComponent(t);return e.universalLink?`${e.universalLink}/wc?uri=${n}`:e.deepLink?`${e.deepLink}${e.deepLink.endsWith(":")?"//":"/"}wc?uri=${n}`:""}function T(t){const e=t.href.split("?")[0];C(R,Object.assign(Object.assign({},t),{href:e}))}function N(t,e){return t.filter((t=>t.name.toLowerCase().includes(e.toLowerCase())))[0]}function L(t,e){let n=t;return e&&(n=e.map((e=>N(t,e))).filter(Boolean)),n}const A="https://registry.walletconnect.com";function P(){return A+"/api/v2/wallets"}function W(){return A+"/api/v2/dapps"}function z(t,e="mobile"){var n;return{name:t.name||"",shortName:t.metadata.shortName||"",color:t.metadata.colors.primary||"",logo:null!==(n=t.image_url.sm)&&void 0!==n?n:"",universalLink:t[e].universal||"",deepLink:t[e].native||""}}function U(t,e="mobile"){return Object.values(t).filter((t=>!!t[e].universal||!!t[e].native)).map((t=>z(t,e)))}},"2eaf":function(t,e,n){"use strict";var i={};n.r(i),n.d(i,"generateKey",(function(){return _})),n.d(i,"verifyHmac",(function(){return w})),n.d(i,"encrypt",(function(){return v})),n.d(i,"decrypt",(function(){return b}));var r=n("9b80"),o=n("1666");const s="Session currently connected",a="Session currently disconnected",c="JSON RPC response format is invalid",h="User close QRCode Modal";var u=class{constructor(){this._eventEmitters=[]}subscribe(t){this._eventEmitters.push(t)}unsubscribe(t){this._eventEmitters=this._eventEmitters.filter((e=>e.event!==t))}trigger(t){let e,n=[];e=Object(r.q)(t)?t.method:Object(r.s)(t)||Object(r.r)(t)?"response:"+t.id:Object(r.p)(t)?t.event:"",e&&(n=this._eventEmitters.filter((t=>t.event===e))),n&&n.length||Object(r.u)(e)||Object(r.p)(e)||(n=this._eventEmitters.filter((t=>"call_request"===t.event))),n.forEach((e=>{if(Object(r.r)(t)){const n=new Error(t.error.message);e.callback(n,null)}else e.callback(null,t)}))}};var l=class{constructor(t="walletconnect"){this.storageId=t}getSession(){let t=null;const e=Object(r.k)(this.storageId);return e&&Object(r.w)(e)&&(t=e),t}setSession(t){return Object(r.D)(this.storageId,t),t}removeSession(){Object(r.C)(this.storageId)}};const d="abcdefghijklmnopqrstuvwxyz0123456789".split("").map((t=>`https://${t}.bridge.walletconnect.org`));function f(){return d[Math.floor(Math.random()*d.length)]}var p=class{constructor(t){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new u,this._clientMeta=Object(r.i)()||t.connectorOpts.clientMeta||null,this._cryptoLib=t.cryptoLib,this._sessionStorage=t.sessionStorage||new l(t.connectorOpts.storageId),this._qrcodeModal=t.connectorOpts.qrcodeModal,this._qrcodeModalOptions=t.connectorOpts.qrcodeModalOptions,this._signingMethods=[...r.E,...t.connectorOpts.signingMethods||[]],!t.connectorOpts.bridge&&!t.connectorOpts.uri&&!t.connectorOpts.session)throw new Error("Missing one of the required parameters: bridge / uri / session");t.connectorOpts.bridge&&(this.bridge=function(t){return function(t){return"walletconnect.org"===function(t){return function(t){let e=t.indexOf("//")>-1?t.split("/")[2]:t.split("/")[0];return e=e.split(":")[0],e=e.split("?")[0],e}(t).split(".").slice(-2).join(".")}(t)}(t)?f():t}(t.connectorOpts.bridge)),t.connectorOpts.uri&&(this.uri=t.connectorOpts.uri);const e=t.connectorOpts.session||this._getStorageSession();e&&(this.session=e),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=t.transport||new o.a({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),t.connectorOpts.uri&&this._subscribeToSessionRequest(),t.pushServerOpts&&this._registerPushServer(t.pushServerOpts)}set bridge(t){t&&(this._bridge=t)}get bridge(){return this._bridge}set key(t){if(!t)return;const e=Object(r.e)(t);this._key=e}get key(){if(this._key){return Object(r.c)(this._key,!0)}return""}set clientId(t){t&&(this._clientId=t)}get clientId(){let t=this._clientId;return t||(t=this._clientId=Object(r.F)()),this._clientId}set peerId(t){t&&(this._peerId=t)}get peerId(){return this._peerId}set clientMeta(t){}get clientMeta(){let t=this._clientMeta;return t||(t=this._clientMeta=Object(r.i)()),t}set peerMeta(t){this._peerMeta=t}get peerMeta(){return this._peerMeta}set handshakeTopic(t){t&&(this._handshakeTopic=t)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(t){t&&(this._handshakeId=t)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(t){if(!t)return;const{handshakeTopic:e,bridge:n,key:i}=this._parseUri(t);this.handshakeTopic=e,this.bridge=n,this.key=i}set chainId(t){this._chainId=t}get chainId(){return this._chainId}set networkId(t){this._networkId=t}get networkId(){return this._networkId}set accounts(t){this._accounts=t}get accounts(){return this._accounts}set rpcUrl(t){this._rpcUrl=t}get rpcUrl(){return this._rpcUrl}set connected(t){}get connected(){return this._connected}set pending(t){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(t){t&&(this._connected=t.connected,this.accounts=t.accounts,this.chainId=t.chainId,this.bridge=t.bridge,this.key=t.key,this.clientId=t.clientId,this.clientMeta=t.clientMeta,this.peerId=t.peerId,this.peerMeta=t.peerMeta,this.handshakeId=t.handshakeId,this.handshakeTopic=t.handshakeTopic)}on(t,e){const n={event:t,callback:e};this._eventManager.subscribe(n)}off(t){this._eventManager.unsubscribe(t)}async createInstantRequest(t){this._key=await this._generateKey();const e=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(t)}]});this.handshakeId=e.id,this.handshakeTopic=Object(r.F)(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",(()=>{throw new Error(h)}));const n=()=>{this.killSession()};try{const t=await this._sendCallRequest(e);return t&&n(),t}catch(t){throw n(),t}}async connect(t){if(!this._qrcodeModal)throw new Error("QRCode Modal not provided");return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(t),new Promise((async(t,e)=>{this.on("modal_closed",(()=>e(new Error(h)))),this.on("connect",((n,i)=>{if(n)return e(n);t(i.params[0])}))})))}async createSession(t){if(this._connected)throw new Error(s);if(this.pending)return;this._key=await this._generateKey();const e=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:t&&t.chainId?t.chainId:null}]});this.handshakeId=e.id,this.handshakeTopic=Object(r.F)(),this._sendSessionRequest(e,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(t){if(this._connected)throw new Error(s);this.chainId=t.chainId,this.accounts=t.accounts,this.networkId=t.networkId||0,this.rpcUrl=t.rpcUrl||"";const e={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},n={id:this.handshakeId,jsonrpc:"2.0",result:e};this._sendResponse(n),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(t){if(this._connected)throw new Error(s);const e=t&&t.message?t.message:"Session Rejected",n=this._formatResponse({id:this.handshakeId,error:{message:e}});this._sendResponse(n),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:e}]}),this._removeStorageSession()}updateSession(t){if(!this._connected)throw new Error(a);this.chainId=t.chainId,this.accounts=t.accounts,this.networkId=t.networkId||0,this.rpcUrl=t.rpcUrl||"";const e={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},n=this._formatRequest({method:"wc_sessionUpdate",params:[e]});this._sendSessionRequest(n,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(t){const e=t?t.message:"Session Disconnected",n=this._formatRequest({method:"wc_sessionUpdate",params:[{approved:!1,chainId:null,networkId:null,accounts:null}]});await this._sendRequest(n),this._handleSessionDisconnect(e)}async sendTransaction(t){if(!this._connected)throw new Error(a);const e=Object(r.z)(t),n=this._formatRequest({method:"eth_sendTransaction",params:[e]});return await this._sendCallRequest(n)}async signTransaction(t){if(!this._connected)throw new Error(a);const e=Object(r.z)(t),n=this._formatRequest({method:"eth_signTransaction",params:[e]});return await this._sendCallRequest(n)}async signMessage(t){if(!this._connected)throw new Error(a);const e=this._formatRequest({method:"eth_sign",params:t});return await this._sendCallRequest(e)}async signPersonalMessage(t){if(!this._connected)throw new Error(a);t=Object(r.y)(t);const e=this._formatRequest({method:"personal_sign",params:t});return await this._sendCallRequest(e)}async signTypedData(t){if(!this._connected)throw new Error(a);const e=this._formatRequest({method:"eth_signTypedData",params:t});return await this._sendCallRequest(e)}async updateChain(t){if(!this._connected)throw new Error("Session currently disconnected");const e=this._formatRequest({method:"wallet_updateChain",params:[t]});return await this._sendCallRequest(e)}unsafeSend(t,e){return this._sendRequest(t,e),this._eventManager.trigger({event:"call_request_sent",params:[{request:t,options:e}]}),new Promise(((e,n)=>{this._subscribeToResponse(t.id,((t,i)=>{if(t)n(t);else{if(!i)throw new Error("Missing JSON RPC response");e(i)}}))}))}async sendCustomRequest(t,e){if(!this._connected)throw new Error(a);switch(t.method){case"eth_accounts":return this.accounts;case"eth_chainId":return Object(r.f)(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":t.params&&(t.params[0]=Object(r.z)(t.params[0]));break;case"personal_sign":t.params&&(t.params=Object(r.y)(t.params))}const n=this._formatRequest(t);return await this._sendCallRequest(n,e)}approveRequest(t){if(!Object(r.s)(t))throw new Error('JSON-RPC success response must include "result" field');{const e=this._formatResponse(t);this._sendResponse(e)}}rejectRequest(t){if(!Object(r.r)(t))throw new Error('JSON-RPC error response must include "error" field');{const e=this._formatResponse(t);this._sendResponse(e)}}transportClose(){this._transport.close()}async _sendRequest(t,e){const n=this._formatRequest(t),i=await this._encrypt(n),o=void 0!==(null==e?void 0:e.topic)?e.topic:this.peerId,s=JSON.stringify(i),a=void 0!==(null==e?void 0:e.forcePushNotification)?!e.forcePushNotification:Object(r.v)(n);this._transport.send(s,o,a)}async _sendResponse(t){const e=await this._encrypt(t),n=this.peerId,i=JSON.stringify(e);this._transport.send(i,n,!0)}async _sendSessionRequest(t,e,n){this._sendRequest(t,n),this._subscribeToSessionResponse(t.id,e)}_sendCallRequest(t,e){return this._sendRequest(t,e),this._eventManager.trigger({event:"call_request_sent",params:[{request:t,options:e}]}),this._subscribeToCallResponse(t.id)}_formatRequest(t){if(void 0===t.method)throw new Error('JSON RPC request must have valid "method" value');return{id:void 0===t.id?Object(r.B)():t.id,jsonrpc:"2.0",method:t.method,params:void 0===t.params?[]:t.params}}_formatResponse(t){if(void 0===t.id)throw new Error('JSON RPC request must have valid "id" value');const e={id:t.id,jsonrpc:"2.0"};if(Object(r.r)(t)){const n=Object(r.h)(t.error);return Object.assign(Object.assign(Object.assign({},e),t),{error:n})}if(Object(r.s)(t)){return Object.assign(Object.assign({},e),t)}throw new Error(c)}_handleSessionDisconnect(t){const e=t||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),Object(r.C)(r.x)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:e}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(t,e){e&&e.approved?(this._connected?(e.chainId&&(this.chainId=e.chainId),e.accounts&&(this.accounts=e.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,e.chainId&&(this.chainId=e.chainId),e.accounts&&(this.accounts=e.accounts),e.peerId&&!this.peerId&&(this.peerId=e.peerId),e.peerMeta&&!this.peerMeta&&(this.peerMeta=e.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(t)}async _handleIncomingMessages(t){if(![this.clientId,this.handshakeTopic].includes(t.topic))return;let e;try{e=JSON.parse(t.payload)}catch(t){return}const n=await this._decrypt(e);n&&this._eventManager.trigger(n)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(t,e){this.on("response:"+t,e)}_subscribeToSessionResponse(t,e){this._subscribeToResponse(t,((t,n)=>{t?this._handleSessionResponse(t.message):Object(r.s)(n)?this._handleSessionResponse(e,n.result):n.error&&n.error.message?this._handleSessionResponse(n.error.message):this._handleSessionResponse(e)}))}_subscribeToCallResponse(t){return new Promise(((e,n)=>{this._subscribeToResponse(t,((t,i)=>{t?n(t):Object(r.s)(i)?e(i.result):i.error&&i.error.message?n(i.error):n(new Error(c))}))}))}_subscribeToInternalEvents(){this.on("display_uri",(()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,(()=>{this._eventManager.trigger({event:"modal_closed",params:[]})}),this._qrcodeModalOptions)})),this.on("connect",(()=>{this._qrcodeModal&&this._qrcodeModal.close()})),this.on("call_request_sent",((t,e)=>{const{request:n}=e.params[0];if(Object(r.t)()&&this._signingMethods.includes(n.method)){const t=Object(r.k)(r.x);t&&(window.location.href=t.href)}})),this.on("wc_sessionRequest",((t,e)=>{t&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:t.toString()}]}),this.handshakeId=e.id,this.peerId=e.params[0].peerId,this.peerMeta=e.params[0].peerMeta;const n=Object.assign(Object.assign({},e),{method:"session_request"});this._eventManager.trigger(n)})),this.on("wc_sessionUpdate",((t,e)=>{t&&this._handleSessionResponse(t.message),this._handleSessionResponse("Session disconnected",e.params[0])}))}_initTransport(){this._transport.on("message",(t=>this._handleIncomingMessages(t))),this._transport.on("open",(()=>this._eventManager.trigger({event:"transport_open",params:[]}))),this._transport.on("close",(()=>this._eventManager.trigger({event:"transport_close",params:[]}))),this._transport.on("error",(()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]}))),this._transport.open()}_formatUri(){return`${this.protocol}:${this.handshakeTopic}@${this.version}?bridge=${encodeURIComponent(this.bridge)}&key=${this.key}`}_parseUri(t){const e=Object(r.A)(t);if(e.protocol===this.protocol){if(!e.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const t=e.handshakeTopic;if(!e.bridge)throw Error("Invalid or missing bridge url parameter value");const n=decodeURIComponent(e.bridge);if(!e.key)throw Error("Invalid or missing key parameter value");return{handshakeTopic:t,bridge:n,key:e.key}}throw new Error("URI format is invalid")}async _generateKey(){if(this._cryptoLib){return await this._cryptoLib.generateKey()}return null}async _encrypt(t){const e=this._key;if(this._cryptoLib&&e){return await this._cryptoLib.encrypt(t,e)}return null}async _decrypt(t){const e=this._key;if(this._cryptoLib&&e){return await this._cryptoLib.decrypt(t,e)}return null}_getStorageSession(){let t=null;return this._sessionStorage&&(t=this._sessionStorage.getSession()),t}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(t){if(!t.url||"string"!=typeof t.url)throw Error("Invalid or missing pushServerOpts.url parameter value");if(!t.type||"string"!=typeof t.type)throw Error("Invalid or missing pushServerOpts.type parameter value");if(!t.token||"string"!=typeof t.token)throw Error("Invalid or missing pushServerOpts.token parameter value");const e={bridge:this.bridge,topic:this.clientId,type:t.type,token:t.token,peerName:"",language:t.language||""};this.on("connect",(async(n,i)=>{if(n)throw n;if(t.peerMeta){const t=i.params[0].peerMeta.name;e.peerName=t}try{const n=await fetch(t.url+"/new",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});if(!(await n.json()).success)throw Error("Failed to register in Push Server")}catch(n){throw Error("Failed to register in Push Server")}}))}},m=n("845a"),g=n("ec52");async function _(t){const e=(t||256)/8,n=m.randomBytes(e);return Object(r.d)(g.b(n))}async function w(t,e){const n=g.n(t.data),i=g.n(t.iv),r=g.n(t.hmac),o=g.c(r,!1),s=g.j(n,i),a=await m.hmacSha256Sign(e,s),c=g.c(a,!1);return g.x(o)===g.x(c)}async function v(t,e,n){const i=g.f(Object(r.b)(e)),o=n||await _(128),s=g.f(Object(r.b)(o)),a=g.c(s,!1),c=JSON.stringify(t),h=g.z(c),u=await m.aesCbcEncrypt(s,i,h),l=g.c(u,!1),d=g.j(u,s),f=await m.hmacSha256Sign(i,d);return{data:l,hmac:g.c(f,!1),iv:a}}async function b(t,e){const n=g.f(Object(r.b)(e));if(!n)throw new Error("Missing key: required for decryption");if(!await w(t,n))return null;const i=g.n(t.data),o=g.n(t.iv),s=await m.aesCbcDecrypt(o,n,i),a=g.e(s);let c;try{c=JSON.parse(a)}catch(t){return null}return c}var y=class extends p{constructor(t,e){super({cryptoLib:i,connectorOpts:t,pushServerOpts:e})}},M=n("745c"),k=n.n(M),x=n("ba10"),S=n.n(x),I=n("8602");const O=Object(r.j)("XMLHttpRequest")||I.XMLHttpRequest;class C extends S.a{constructor(t){super(),this.url=t}formatError(t,e,n=-1){return{error:{message:e,code:n},id:t.id,jsonrpc:t.jsonrpc}}send(t,e){return new Promise((n=>{if("eth_subscribe"===t.method){const e=this.formatError(t,"Subscriptions are not supported by this HTTP endpoint");return this.emit("error",e),n(e)}const i=new O;let r=!1;const o=(o,s)=>{if(!r)if(i.abort(),r=!0,e)e(o,s);else{const{id:e,jsonrpc:i}=t,r=o?{id:e,jsonrpc:i,error:{message:o.message,code:o.code}}:{id:e,jsonrpc:i,result:s};this.emit("payload",r),n(r)}};i.open("POST",this.url,!0),i.setRequestHeader("Content-Type","application/json"),i.timeout=6e4,i.onerror=o,i.ontimeout=o,i.onreadystatechange=()=>{if(4===i.readyState)try{const t=JSON.parse(i.responseText);o(t.error,t.result)}catch(t){o(t)}},i.send(JSON.stringify(t))}))}}var E=C;const q=n("7f88"),R=n("db2a"),j=n("5918"),T=n("702f"),N=n("465b"),L=n("2946"),A=n("12a9");e.a=class extends q{constructor(t){if(super({pollingInterval:t.pollingInterval||8e3}),this.bridge="https://bridge.walletconnect.org",this.qrcode=!0,this.qrcodeModal=k.a,this.qrcodeModalOptions=void 0,this.rpc=null,this.infuraId="",this.http=null,this.isConnecting=!1,this.connected=!1,this.connectCallbacks=[],this.accounts=[],this.chainId=1,this.rpcUrl="",this.enable=async()=>{const t=await this.getWalletConnector();if(t)return this.start(),this.subscribeWalletConnector(),t.accounts;throw new Error("Failed to connect to WalleConnect")},this.request=async t=>this.send(t),this.send=async(t,e)=>{var n;if("string"==typeof t){const n=t;let i=e;return"personal_sign"===n&&(i=Object(r.y)(i)),this.sendAsyncPromise(n,i)}if("personal_sign"===(t=Object.assign({id:Object(r.B)(),jsonrpc:"2.0"},t)).method&&(t.params=Object(r.y)(t.params)),!e){if("eth_signTypedData_v4"===t.method&&"MetaMask"===(null===(n=this.walletMeta)||void 0===n?void 0:n.name)){const{result:e}=await this.handleOtherRequests(t);return e}return this.sendAsyncPromise(t.method,t.params)}this.sendAsync(t,e)},this.onConnect=t=>{this.connectCallbacks.push(t)},this.triggerConnect=t=>{this.connectCallbacks&&this.connectCallbacks.length&&this.connectCallbacks.forEach((e=>e(t)))},this.bridge=t.connector?t.connector.bridge:t.bridge||"https://bridge.walletconnect.org",this.qrcode=void 0===t.qrcode||!1!==t.qrcode,this.qrcodeModal=t.qrcodeModal||this.qrcodeModal,this.qrcodeModalOptions=t.qrcodeModalOptions,this.wc=t.connector||new y({bridge:this.bridge,qrcodeModal:this.qrcode?this.qrcodeModal:void 0,qrcodeModalOptions:this.qrcodeModalOptions,storageId:null==t?void 0:t.storageId,signingMethods:null==t?void 0:t.signingMethods,clientMeta:null==t?void 0:t.clientMeta}),this.rpc=t.rpc||null,!(this.rpc||t.infuraId&&"string"==typeof t.infuraId&&t.infuraId.trim()))throw new Error("Missing one of the required parameters: rpc or infuraId");this.infuraId=t.infuraId||"",this.chainId=(null==t?void 0:t.chainId)||this.chainId,this.initialize()}get isWalletConnect(){return!0}get connector(){return this.wc}get walletMeta(){return this.wc.peerMeta}async disconnect(){this.close()}async close(){const t=await this.getWalletConnector({disableSessionCreation:!0});await t.killSession(),await this.onDisconnect()}async handleRequest(t){try{let e,n=null;const i=await this.getWalletConnector();switch(t.method){case"wc_killSession":await this.close(),n=null;break;case"eth_accounts":n=i.accounts;break;case"eth_coinbase":n=i.accounts[0];break;case"eth_chainId":case"net_version":n=i.chainId;break;case"eth_uninstallFilter":this.sendAsync(t,(t=>t)),n=!0;break;default:e=await this.handleOtherRequests(t)}return e||this.formatResponse(t,n)}catch(t){throw this.emit("error",t),t}}async handleOtherRequests(t){if(!r.E.includes(t.method)&&t.method.startsWith("eth_"))return this.handleReadRequests(t);const e=await this.getWalletConnector(),n=await e.sendCustomRequest(t);return this.formatResponse(t,n)}async handleReadRequests(t){if(!this.http){const t=new Error("HTTP Connection not available");throw this.emit("error",t),t}return this.http.send(t)}formatResponse(t,e){return{id:t.id,jsonrpc:t.jsonrpc,result:e}}getWalletConnector(t={}){const{disableSessionCreation:e=!1}=t;return new Promise(((t,n)=>{const i=this.wc;this.isConnecting?this.onConnect((e=>t(e))):i.connected||e?(this.connected||(this.connected=!0,this.updateState(i.session)),t(i)):(this.isConnecting=!0,i.on("modal_closed",(()=>{n(new Error("User closed modal"))})),i.createSession({chainId:this.chainId}).then((()=>{i.on("connect",((e,r)=>{if(e)return this.isConnecting=!1,n(e);this.isConnecting=!1,this.connected=!0,r&&this.updateState(r.params[0]),this.emit("connect"),this.triggerConnect(i),t(i)}))})).catch((t=>{this.isConnecting=!1,n(t)})))}))}async subscribeWalletConnector(){const t=await this.getWalletConnector();t.on("disconnect",(t=>{t?this.emit("error",t):this.onDisconnect()})),t.on("session_update",((t,e)=>{t?this.emit("error",t):this.updateState(e.params[0])}))}async onDisconnect(){await this.stop(),this.emit("close",1e3,"Connection closed"),this.emit("disconnect",1e3,"Connection disconnected"),this.connected=!1}async updateState(t){const{accounts:e,chainId:n,networkId:i,rpcUrl:r}=t;(!this.accounts||e&&this.accounts!==e)&&(this.accounts=e,this.emit("accountsChanged",e)),(!this.chainId||n&&this.chainId!==n)&&(this.chainId=n,this.emit("chainChanged",n)),(!this.networkId||i&&this.networkId!==i)&&(this.networkId=i,this.emit("networkChanged",i)),this.updateRpcUrl(this.chainId,r||"")}updateRpcUrl(t,e=""){const n={infuraId:this.infuraId,custom:this.rpc||void 0};(e=e||Object(r.n)(t,n))?(this.rpcUrl=e,this.updateHttpConnection()):this.emit("error",new Error("No RPC Url available for chainId: "+t))}updateHttpConnection(){this.rpcUrl&&(this.http=new E(this.rpcUrl),this.http.on("payload",(t=>this.emit("payload",t))),this.http.on("error",(t=>this.emit("error",t))))}sendAsyncPromise(t,e){return new Promise(((n,i)=>{this.sendAsync({id:Object(r.B)(),jsonrpc:"2.0",method:t,params:e||[]},((t,e)=>{t?i(t):n(e.result)}))}))}initialize(){this.updateRpcUrl(this.chainId),this.addProvider(new j({eth_hashrate:"0x00",eth_mining:!1,eth_syncing:!0,net_listening:!0,web3_clientVersion:"WalletConnect/v1.x.x/javascript"})),this.addProvider(new R),this.addProvider(new A),this.addProvider(new T),this.addProvider(new L),this.addProvider(new N(this.configWallet())),this.addProvider({handleRequest:async(t,e,n)=>{try{const{error:e,result:i}=await this.handleRequest(t);n(e,i)}catch(t){n(t)}},setEngine:t=>t})}configWallet(){return{getAccounts:async t=>{try{const e=(await this.getWalletConnector()).accounts;e&&e.length?t(null,e):t(new Error("Failed to get accounts"))}catch(e){t(e)}},processMessage:async(t,e)=>{try{const n=await this.getWalletConnector();e(null,await n.signMessage([t.from,t.data]))}catch(t){e(t)}},processPersonalMessage:async(t,e)=>{try{const n=await this.getWalletConnector();e(null,await n.signPersonalMessage([t.data,t.from]))}catch(t){e(t)}},processSignTransaction:async(t,e)=>{try{const n=await this.getWalletConnector();e(null,await n.signTransaction(t))}catch(t){e(t)}},processTransaction:async(t,e)=>{try{const n=await this.getWalletConnector();e(null,await n.sendTransaction(t))}catch(t){e(t)}},processTypedMessage:async(t,e)=>{try{const n=await this.getWalletConnector();e(null,await n.signTypedData([t.from,t.data]))}catch(t){e(t)}}}}}},"324a":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));class i{}},"40e5":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWindowMetadata=void 0;const i=n("aae3");e.getWindowMetadata=function(){let t,e;try{t=i.getDocumentOrThrow(),e=i.getLocationOrThrow()}catch(t){return null}function n(...e){const n=t.getElementsByTagName("meta");for(let t=0;t<n.length;t++){const i=n[t],r=["itemprop","property","name"].map((t=>i.getAttribute(t))).filter((t=>!!t&&e.includes(t)));if(r.length&&r){const t=i.getAttribute("content");if(t)return t}}return""}const r=function(){let e=n("name","og:site_name","og:title","twitter:title");return e||(e=t.title),e}(),o=n("description","og:description","twitter:description","keywords"),s=e.origin,a=function(){const n=t.getElementsByTagName("link"),i=[];for(let t=0;t<n.length;t++){const r=n[t],o=r.getAttribute("rel");if(o&&o.toLowerCase().indexOf("icon")>-1){const t=r.getAttribute("href");if(t)if(-1===t.toLowerCase().indexOf("https:")&&-1===t.toLowerCase().indexOf("http:")&&0!==t.indexOf("//")){let n=e.protocol+"//"+e.host;if(0===t.indexOf("/"))n+=t;else{const i=e.pathname.split("/");i.pop();n+=i.join("/")+"/"+t}i.push(n)}else if(0===t.indexOf("//")){const n=e.protocol+t;i.push(n)}else i.push(t)}}return i}();return{description:o,url:s,icons:a,name:r}}},"44cf":function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return l}));var i=n("bdea"),r=n("4a80");async function o(t,e=r.a){return i.getSubtleCrypto().importKey("raw",t,function(t){return t===r.a?{length:r.b,name:r.a}:{hash:{name:r.f},name:r.e}}(e),!0,function(t){return t===r.a?[r.d,r.c]:[r.k,r.l]}(e))}async function s(t,e,n){const s=i.getSubtleCrypto(),a=await o(e,r.a),c=await s.encrypt({iv:t,name:r.a},a,n);return new Uint8Array(c)}async function a(t,e,n){const s=i.getSubtleCrypto(),a=await o(e,r.a),c=await s.decrypt({iv:t,name:r.a},a,n);return new Uint8Array(c)}async function c(t,e){const n=i.getSubtleCrypto(),s=await o(t,r.e),a=await n.sign({length:r.g,name:r.e},s,e);return new Uint8Array(a)}async function h(t,e){const n=i.getSubtleCrypto(),s=await o(t,r.e),a=await n.sign({length:r.h,name:r.e},s,e);return new Uint8Array(a)}async function u(t){const e=i.getSubtleCrypto(),n=await e.digest({name:r.i},t);return new Uint8Array(n)}async function l(t){const e=i.getSubtleCrypto(),n=await e.digest({name:r.j},t);return new Uint8Array(n)}},4665:function(t,e,n){"use strict";t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},4797:function(t,e,n){"use strict";var i=n("bdea");n.o(i,"payloadId")&&n.d(e,"payloadId",(function(){return i.payloadId})),i.isNode},4925:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}));var i=n("44cf");function r(t,e,n){return Object(i.b)(t,e,n)}function o(t,e,n){return Object(i.a)(t,e,n)}},"4a80":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"g",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"f",(function(){return a})),n.d(e,"e",(function(){return c})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return u})),n.d(e,"h",(function(){return i})),n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return d})),n.d(e,"k",(function(){return f})),n.d(e,"l",(function(){return p}));const i=512,r=256,o=256,s="AES-CBC",a="SHA-"+r,c="HMAC",h="SHA-256",u="SHA-512",l="encrypt",d="decrypt",f="sign",p="verify"},"62f9":function(t,e,n){"use strict";n("44cf")},"745c":function(t,e,n){(function(e){function i(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var r=n("2aab"),o=i(n("d055")),s=i(n("f904")),a=n("15d1");"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var c="walletconnect-wrapper",h="walletconnect-style-sheet",u="walletconnect-qrcode-modal",l="walletconnect-qrcode-text";function d(t){return a.createElement("div",{className:"walletconnect-modal__header"},a.createElement("img",{src:"data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",className:"walletconnect-modal__headerLogo"}),a.createElement("p",null,"WalletConnect"),a.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:t.onClose},a.createElement("div",{id:"walletconnect-qrcode-close",className:"walletconnect-modal__close__icon"},a.createElement("div",{className:"walletconnect-modal__close__line1"}),a.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function f(t){return a.createElement("a",{className:"walletconnect-connect__button",href:t.href,id:"walletconnect-connect-button-"+t.name,onClick:t.onClick,rel:"noopener noreferrer",style:{backgroundColor:t.color},target:"_blank"},t.name)}function p(t){var e=t.color,n=t.href,i=t.name,r=t.logo,o=t.onClick;return a.createElement("a",{className:"walletconnect-modal__base__row",href:n,onClick:o,rel:"noopener noreferrer",target:"_blank"},a.createElement("h3",{className:"walletconnect-modal__base__row__h3"},i),a.createElement("div",{className:"walletconnect-modal__base__row__right"},a.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+r+"') "+e,backgroundSize:"100%"}}),a.createElement("img",{src:"data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E",className:"walletconnect-modal__base__row__right__caret"})))}function m(t){var e=t.color,n=t.href,i=t.name,r=t.logo,o=t.onClick,s=window.innerWidth<768?(i.length>8?2.5:2.7)+"vw":"inherit";return a.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:n,onClick:o,rel:"noopener noreferrer",target:"_blank"},a.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+r+"') "+e,backgroundSize:"100%"}}),a.createElement("div",{style:{fontSize:s},className:"walletconnect-connect__button__text"},i))}function g(t){var e=r.isAndroid(),n=a.useState(""),i=n[0],o=n[1],s=a.useState(""),c=s[0],h=s[1],u=a.useState(1),d=u[0],g=u[1],_=c?t.links.filter((function(t){return t.name.toLowerCase().includes(c.toLowerCase())})):t.links,w=t.errorMessage,v=c||_.length>5,b=Math.ceil(_.length/12),y=[12*(d-1)+1,12*d],M=_.length?_.filter((function(t,e){return e+1>=y[0]&&e+1<=y[1]})):[],k=!(e||!(b>1)),x=void 0;return a.createElement("div",null,a.createElement("p",{id:l,className:"walletconnect-qrcode__text"},e?t.text.connect_mobile_wallet:t.text.choose_preferred_wallet),!e&&a.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:i,onChange:function(t){o(t.target.value),clearTimeout(x),t.target.value?x=setTimeout((function(){h(t.target.value),g(1)}),1e3):(o(""),h(""),g(1))}}),a.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(e?"__android":v&&_.length?"__wrap":"")},e?a.createElement(f,{name:t.text.connect,color:"rgb(64, 153, 255)",href:t.uri,onClick:a.useCallback((function(){r.saveMobileLinkInfo({name:"Unknown",href:t.uri})}),[])}):M.length?M.map((function(e){var n=e.color,i=e.name,o=e.shortName,s=e.logo,c=r.formatIOSMobile(t.uri,e),h=a.useCallback((function(){r.saveMobileLinkInfo({name:i,href:c})}),[M]);return v?a.createElement(m,{color:n,href:c,name:o||i,logo:s,onClick:h}):a.createElement(p,{color:n,href:c,name:i,logo:s,onClick:h})})):a.createElement(a.Fragment,null,a.createElement("p",null,w.length?t.errorMessage:t.links.length&&!_.length?t.text.no_wallets_found:t.text.loading))),k&&a.createElement("div",{className:"walletconnect-modal__footer"},Array(b).fill(0).map((function(t,e){var n=e+1,i=d===n;return a.createElement("a",{style:{margin:"auto 10px",fontWeight:i?"bold":"normal"},onClick:function(){return g(n)}},n)}))))}function _(t){var e=!!t.message.trim();return a.createElement("div",{className:"walletconnect-qrcode__notification"+(e?" notification__show":"")},t.message)}var w=function(t){try{var e="";return Promise.resolve(o.toString(t,{margin:0,type:"svg"})).then((function(t){return"string"==typeof t&&(e=t.replace("<svg",'<svg class="walletconnect-qrcode__image"')),e}))}catch(t){return Promise.reject(t)}};function v(t){var e=a.useState(""),n=e[0],i=e[1],r=a.useState(""),o=r[0],c=r[1];a.useEffect((function(){try{return Promise.resolve(w(t.uri)).then((function(t){c(t)}))}catch(t){Promise.reject(t)}}),[]);return a.createElement("div",null,a.createElement("p",{id:l,className:"walletconnect-qrcode__text"},t.text.scan_qrcode_with_wallet),a.createElement("div",{dangerouslySetInnerHTML:{__html:o}}),a.createElement("div",{className:"walletconnect-modal__footer"},a.createElement("a",{onClick:function(){s(t.uri)?(i(t.text.copied_to_clipboard),setInterval((function(){return i("")}),1200)):(i("Error"),setInterval((function(){return i("")}),1200))}},t.text.copy_to_clipboard)),a.createElement(_,{message:n}))}function b(t){var e=r.isAndroid(),n=r.isMobile(),i=n?t.qrcodeModalOptions&&t.qrcodeModalOptions.mobileLinks?t.qrcodeModalOptions.mobileLinks:void 0:t.qrcodeModalOptions&&t.qrcodeModalOptions.desktopLinks?t.qrcodeModalOptions.desktopLinks:void 0,o=a.useState(!1),s=o[0],c=o[1],h=a.useState(!1),l=h[0],f=h[1],p=a.useState(!n),m=p[0],_=p[1],w={mobile:n,text:t.text,uri:t.uri,qrcodeModalOptions:t.qrcodeModalOptions},b=a.useState(""),y=b[0],M=b[1],k=a.useState(!1),x=k[0],S=k[1],I=a.useState([]),O=I[0],C=I[1],E=a.useState(""),q=E[0],R=E[1],j=function(){l||s||i&&!i.length||O.length>0||a.useEffect((function(){!function(){try{if(e)return Promise.resolve();c(!0);var o=function(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}((function(){var e=t.qrcodeModalOptions&&t.qrcodeModalOptions.registryUrl?t.qrcodeModalOptions.registryUrl:r.getWalletRegistryUrl();return Promise.resolve(fetch(e)).then((function(e){return Promise.resolve(e.json()).then((function(e){var o=e.listings,s=n?"mobile":"desktop",a=r.getMobileLinkRegistry(r.formatMobileRegistry(o,s),i);c(!1),f(!0),R(a.length?"":t.text.no_supported_wallets),C(a);var h=1===a.length;h&&(M(r.formatIOSMobile(t.uri,a[0])),_(!0)),S(h)}))}))}),(function(e){c(!1),f(!0),R(t.text.something_went_wrong)}));Promise.resolve(o&&o.then?o.then((function(){})):void 0)}catch(t){return Promise.reject(t)}}()}))};j();var T=n?m:!m;return a.createElement("div",{id:u,className:"walletconnect-qrcode__base animated fadeIn"},a.createElement("div",{className:"walletconnect-modal__base"},a.createElement(d,{onClose:t.onClose}),x&&m?a.createElement("div",{className:"walletconnect-modal__single_wallet"},a.createElement("a",{onClick:function(){return r.saveMobileLinkInfo({name:O[0].name,href:y})},href:y,rel:"noopener noreferrer",target:"_blank"},t.text.connect_with+" "+(x?O[0].name:"")+" ›")):e||s||!s&&O.length?a.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(T?" right__selected":"")},a.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),n?a.createElement(a.Fragment,null,a.createElement("a",{onClick:function(){return _(!1),j()}},t.text.mobile),a.createElement("a",{onClick:function(){return _(!0)}},t.text.qrcode)):a.createElement(a.Fragment,null,a.createElement("a",{onClick:function(){return _(!0)}},t.text.qrcode),a.createElement("a",{onClick:function(){return _(!1),j()}},t.text.desktop))):null,a.createElement("div",null,m||!e&&!s&&!O.length?a.createElement(v,Object.assign({},w)):a.createElement(g,Object.assign({},w,{links:O,errorMessage:q})))))}var y={de:{choose_preferred_wallet:"Wähle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine unterstützten Wallet",no_wallets_found:"keine Wallet gefunden"},en:{choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},es:{choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera móvil",scan_qrcode_with_wallet:"Escanea el código QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"Código QR",mobile:"Móvil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo salió mal",no_supported_wallets:"Todavía no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},fr:{choose_preferred_wallet:"Choisissez votre portefeuille préféré",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copié!",connect_with:"Connectez-vous à l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourné",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouvé"},ko:{choose_preferred_wallet:"원하는 지갑을 선택하세요",connect_mobile_wallet:"모바일 지갑과 연결",scan_qrcode_with_wallet:"WalletConnect 지원 지갑에서 QR코드를 스캔하세요",connect:"연결",qrcode:"QR 코드",mobile:"모바일",desktop:"데스크탑",copy_to_clipboard:"클립보드에 복사",copied_to_clipboard:"클립보드에 복사되었습니다!",connect_with:"와 연결하다",loading:"로드 중...",something_went_wrong:"문제가 발생했습니다.",no_supported_wallets:"아직 지원되는 지갑이 없습니다",no_wallets_found:"지갑을 찾을 수 없습니다"},pt:{choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se à carteira móvel",scan_qrcode_with_wallet:"Ler o código QR com uma carteira compatível com WalletConnect",connect:"Conectar",qrcode:"Código QR",mobile:"Móvel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda não há carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},zh:{choose_preferred_wallet:"选择你的钱包",connect_mobile_wallet:"连接至移动端钱包",scan_qrcode_with_wallet:"使用兼容 WalletConnect 的钱包扫描二维码",connect:"连接",qrcode:"二维码",mobile:"移动",desktop:"桌面",copy_to_clipboard:"复制到剪贴板",copied_to_clipboard:"复制到剪贴板成功！",connect_with:"通过以下方式连接",loading:"正在加载...",something_went_wrong:"出了问题",no_supported_wallets:"目前还没有支持的钱包",no_wallets_found:"没有找到钱包"},fa:{choose_preferred_wallet:"کیف پول مورد نظر خود را انتخاب کنید",connect_mobile_wallet:"به کیف پول موبایل وصل شوید",scan_qrcode_with_wallet:"کد QR را با یک کیف پول سازگار با WalletConnect اسکن کنید",connect:"اتصال",qrcode:"کد QR",mobile:"سیار",desktop:"دسکتاپ",copy_to_clipboard:"کپی به کلیپ بورد",copied_to_clipboard:"در کلیپ بورد کپی شد!",connect_with:"ارتباط با",loading:"...بارگذاری",something_went_wrong:"مشکلی پیش آمد",no_supported_wallets:"هنوز هیچ کیف پول پشتیبانی شده ای وجود ندارد",no_wallets_found:"هیچ کیف پولی پیدا نشد"}};function M(){var t=r.getDocumentOrThrow(),e=t.getElementById(u);e&&(e.className=e.className.replace("fadeIn","fadeOut"),setTimeout((function(){var e=t.getElementById(c);e&&t.body.removeChild(e)}),300))}function k(t){return function(){M(),t&&t()}}function x(){var t=r.getNavigatorOrThrow().language.split("-")[0]||"en";return y[t]||y.en}function S(t,e,n){!function(){var t=r.getDocumentOrThrow(),e=t.getElementById(h);e&&t.head.removeChild(e);var n=t.createElement("style");n.setAttribute("id",h),n.innerText=':root {\n  --animation-duration: 300ms;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes fadeOut {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.animated {\n  animation-duration: var(--animation-duration);\n  animation-fill-mode: both;\n}\n\n.fadeIn {\n  animation-name: fadeIn;\n}\n\n.fadeOut {\n  animation-name: fadeOut;\n}\n\n#walletconnect-wrapper {\n  -webkit-user-select: none;\n  align-items: center;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  pointer-events: none;\n  position: fixed;\n  top: 0;\n  user-select: none;\n  width: 100%;\n  z-index: 99999999999999;\n}\n\n.walletconnect-modal__headerLogo {\n  height: 21px;\n}\n\n.walletconnect-modal__header p {\n  color: #ffffff;\n  font-size: 20px;\n  font-weight: 600;\n  margin: 0;\n  align-items: flex-start;\n  display: flex;\n  flex: 1;\n  margin-left: 5px;\n}\n\n.walletconnect-modal__close__wrapper {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  z-index: 10000;\n  background: white;\n  border-radius: 26px;\n  padding: 6px;\n  box-sizing: border-box;\n  width: 26px;\n  height: 26px;\n  cursor: pointer;\n}\n\n.walletconnect-modal__close__icon {\n  position: relative;\n  top: 7px;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transform: rotate(45deg);\n}\n\n.walletconnect-modal__close__line1 {\n  position: absolute;\n  width: 100%;\n  border: 1px solid rgb(48, 52, 59);\n}\n\n.walletconnect-modal__close__line2 {\n  position: absolute;\n  width: 100%;\n  border: 1px solid rgb(48, 52, 59);\n  transform: rotate(90deg);\n}\n\n.walletconnect-qrcode__base {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  background: rgba(37, 41, 46, 0.95);\n  height: 100%;\n  left: 0;\n  pointer-events: auto;\n  position: fixed;\n  top: 0;\n  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);\n  width: 100%;\n  will-change: opacity;\n  padding: 40px;\n  box-sizing: border-box;\n}\n\n.walletconnect-qrcode__text {\n  color: rgba(60, 66, 82, 0.6);\n  font-size: 16px;\n  font-weight: 600;\n  letter-spacing: 0;\n  line-height: 1.1875em;\n  margin: 10px 0 20px 0;\n  text-align: center;\n  width: 100%;\n}\n\n@media only screen and (max-width: 768px) {\n  .walletconnect-qrcode__text {\n    font-size: 4vw;\n  }\n}\n\n@media only screen and (max-width: 320px) {\n  .walletconnect-qrcode__text {\n    font-size: 14px;\n  }\n}\n\n.walletconnect-qrcode__image {\n  width: calc(100% - 30px);\n  box-sizing: border-box;\n  cursor: none;\n  margin: 0 auto;\n}\n\n.walletconnect-qrcode__notification {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  font-size: 16px;\n  padding: 16px 20px;\n  border-radius: 16px;\n  text-align: center;\n  transition: all 0.1s ease-in-out;\n  background: white;\n  color: black;\n  margin-bottom: -60px;\n  opacity: 0;\n}\n\n.walletconnect-qrcode__notification.notification__show {\n  opacity: 1;\n}\n\n@media only screen and (max-width: 768px) {\n  .walletconnect-modal__header {\n    height: 130px;\n  }\n  .walletconnect-modal__base {\n    overflow: auto;\n  }\n}\n\n@media only screen and (min-device-width: 415px) and (max-width: 768px) {\n  #content {\n    max-width: 768px;\n    box-sizing: border-box;\n  }\n}\n\n@media only screen and (min-width: 375px) and (max-width: 415px) {\n  #content {\n    max-width: 414px;\n    box-sizing: border-box;\n  }\n}\n\n@media only screen and (min-width: 320px) and (max-width: 375px) {\n  #content {\n    max-width: 375px;\n    box-sizing: border-box;\n  }\n}\n\n@media only screen and (max-width: 320px) {\n  #content {\n    max-width: 320px;\n    box-sizing: border-box;\n  }\n}\n\n.walletconnect-modal__base {\n  -webkit-font-smoothing: antialiased;\n  background: #ffffff;\n  border-radius: 24px;\n  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);\n  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,\n    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,\n    "Open Sans", "Helvetica Neue", sans-serif;\n  margin-top: 41px;\n  padding: 24px 24px 22px;\n  pointer-events: auto;\n  position: relative;\n  text-align: center;\n  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);\n  will-change: transform;\n  overflow: visible;\n  transform: translateY(-50%);\n  top: 50%;\n  max-width: 500px;\n  margin: auto;\n}\n\n@media only screen and (max-width: 320px) {\n  .walletconnect-modal__base {\n    padding: 24px 12px;\n  }\n}\n\n.walletconnect-modal__base .hidden {\n  transform: translateY(150%);\n  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);\n}\n\n.walletconnect-modal__header {\n  align-items: center;\n  display: flex;\n  height: 26px;\n  left: 0;\n  justify-content: space-between;\n  position: absolute;\n  top: -42px;\n  width: 100%;\n}\n\n.walletconnect-modal__base .wc-logo {\n  align-items: center;\n  display: flex;\n  height: 26px;\n  margin-top: 15px;\n  padding-bottom: 15px;\n  pointer-events: auto;\n}\n\n.walletconnect-modal__base .wc-logo div {\n  background-color: #3399ff;\n  height: 21px;\n  margin-right: 5px;\n  mask-image: url("images/wc-logo.svg") center no-repeat;\n  width: 32px;\n}\n\n.walletconnect-modal__base .wc-logo p {\n  color: #ffffff;\n  font-size: 20px;\n  font-weight: 600;\n  margin: 0;\n}\n\n.walletconnect-modal__base h2 {\n  color: rgba(60, 66, 82, 0.6);\n  font-size: 16px;\n  font-weight: 600;\n  letter-spacing: 0;\n  line-height: 1.1875em;\n  margin: 0 0 19px 0;\n  text-align: center;\n  width: 100%;\n}\n\n.walletconnect-modal__base__row {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  align-items: center;\n  border-radius: 20px;\n  cursor: pointer;\n  display: flex;\n  height: 56px;\n  justify-content: space-between;\n  padding: 0 15px;\n  position: relative;\n  margin: 0px 0px 8px;\n  text-align: left;\n  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n  will-change: transform;\n  text-decoration: none;\n}\n\n.walletconnect-modal__base__row:hover {\n  background: rgba(60, 66, 82, 0.06);\n}\n\n.walletconnect-modal__base__row:active {\n  background: rgba(60, 66, 82, 0.06);\n  transform: scale(0.975);\n  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n}\n\n.walletconnect-modal__base__row__h3 {\n  color: #25292e;\n  font-size: 20px;\n  font-weight: 700;\n  margin: 0;\n  padding-bottom: 3px;\n}\n\n.walletconnect-modal__base__row__right {\n  align-items: center;\n  display: flex;\n  justify-content: center;\n}\n\n.walletconnect-modal__base__row__right__app-icon {\n  border-radius: 8px;\n  height: 34px;\n  margin: 0 11px 2px 0;\n  width: 34px;\n  background-size: 100%;\n  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);\n}\n\n.walletconnect-modal__base__row__right__caret {\n  height: 18px;\n  opacity: 0.3;\n  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n  width: 8px;\n  will-change: opacity;\n}\n\n.walletconnect-modal__base__row:hover .caret,\n.walletconnect-modal__base__row:active .caret {\n  opacity: 0.6;\n}\n\n.walletconnect-modal__mobile__toggle {\n  width: 80%;\n  display: flex;\n  margin: 0 auto;\n  position: relative;\n  overflow: hidden;\n  border-radius: 8px;\n  margin-bottom: 18px;\n  background: #d4d5d9;\n}\n\n.walletconnect-modal__single_wallet {\n  display: flex;\n  justify-content: center;\n  margin-top: 7px;\n  margin-bottom: 18px;\n}\n\n.walletconnect-modal__single_wallet a {\n  cursor: pointer;\n  color: rgb(64, 153, 255);\n  font-size: 21px;\n  font-weight: 800;\n  text-decoration: none !important;\n  margin: 0 auto;\n}\n\n.walletconnect-modal__mobile__toggle_selector {\n  width: calc(50% - 8px);\n  background: white;\n  position: absolute;\n  border-radius: 5px;\n  height: calc(100% - 8px);\n  top: 4px;\n  transition: all 0.2s ease-in-out;\n  transform: translate3d(4px, 0, 0);\n}\n\n.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {\n  transform: translate3d(calc(100% + 12px), 0, 0);\n}\n\n.walletconnect-modal__mobile__toggle a {\n  font-size: 12px;\n  width: 50%;\n  text-align: center;\n  padding: 8px;\n  margin: 0;\n  font-weight: 600;\n  z-index: 1;\n}\n\n.walletconnect-modal__footer {\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n}\n\n@media only screen and (max-width: 768px) {\n  .walletconnect-modal__footer {\n    margin-top: 5vw;\n  }\n}\n\n.walletconnect-modal__footer a {\n  cursor: pointer;\n  color: #898d97;\n  font-size: 15px;\n  margin: 0 auto;\n}\n\n@media only screen and (max-width: 320px) {\n  .walletconnect-modal__footer a {\n    font-size: 14px;\n  }\n}\n\n.walletconnect-connect__buttons__wrapper {\n  max-height: 44vh;\n}\n\n.walletconnect-connect__buttons__wrapper__android {\n  margin: 50% 0;\n}\n\n.walletconnect-connect__buttons__wrapper__wrap {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  margin: 10px 0;\n}\n\n@media only screen and (min-width: 768px) {\n  .walletconnect-connect__buttons__wrapper__wrap {\n    margin-top: 40px;\n  }\n}\n\n.walletconnect-connect__button {\n  background-color: rgb(64, 153, 255);\n  padding: 12px;\n  border-radius: 8px;\n  text-decoration: none;\n  color: rgb(255, 255, 255);\n  font-weight: 500;\n}\n\n.walletconnect-connect__button__icon_anchor {\n  cursor: pointer;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  margin: 8px;\n  width: 42px;\n  justify-self: center;\n  flex-direction: column;\n  text-decoration: none !important;\n}\n\n@media only screen and (max-width: 320px) {\n  .walletconnect-connect__button__icon_anchor {\n    margin: 4px;\n  }\n}\n\n.walletconnect-connect__button__icon {\n  border-radius: 10px;\n  height: 42px;\n  margin: 0;\n  width: 42px;\n  background-size: cover !important;\n  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);\n}\n\n.walletconnect-connect__button__text {\n  color: #424952;\n  font-size: 2.7vw;\n  text-decoration: none !important;\n  padding: 0;\n  margin-top: 1.8vw;\n  font-weight: 600;\n}\n\n@media only screen and (min-width: 768px) {\n  .walletconnect-connect__button__text {\n    font-size: 16px;\n    margin-top: 12px;\n  }\n}\n\n.walletconnect-search__input {\n  border: none;\n  background: #d4d5d9;\n  border-style: none;\n  padding: 8px 16px;\n  outline: none;\n  font-style: normal;\n  font-stretch: normal;\n  font-size: 16px;\n  font-style: normal;\n  font-stretch: normal;\n  line-height: normal;\n  letter-spacing: normal;\n  text-align: left;\n  border-radius: 8px;\n  width: calc(100% - 16px);\n  margin: 0;\n  margin-bottom: 8px;\n}\n',t.head.appendChild(n)}();var i=function(){var t=r.getDocumentOrThrow(),e=t.createElement("div");return e.setAttribute("id",c),t.body.appendChild(e),e}();a.render(a.createElement(b,{text:x(),uri:t,onClose:k(e),qrcodeModalOptions:n}),i)}var I=function(){return void 0!==e&&void 0!==e.versions&&void 0!==e.versions.node};var O={open:function(t,e,n){I()?function(t){o.toString(t,{type:"terminal"}).then(console.log)}(t):S(t,e,n)},close:function(){I()||M()}};t.exports=O}).call(this,n("4362"))},7580:function(t,e,n){"use strict";e.a=class{constructor(){this._eventEmitters=[],"undefined"!=typeof window&&void 0!==window.addEventListener&&(window.addEventListener("online",(()=>this.trigger("online"))),window.addEventListener("offline",(()=>this.trigger("offline"))))}on(t,e){this._eventEmitters.push({event:t,callback:e})}trigger(t){let e=[];t&&(e=this._eventEmitters.filter((e=>e.event===t))),e.forEach((t=>{t.callback()}))}}},7896:function(t,e,n){},"845a":function(t,e,n){"use strict";var i=n("ab81");n.d(e,"randomBytes",(function(){return i.a}));var r=n("4925");n.d(e,"aesCbcDecrypt",(function(){return r.a})),n.d(e,"aesCbcEncrypt",(function(){return r.b}));var o=n("0458");n.d(e,"hmacSha256Sign",(function(){return o.a})),n("62f9"),n("c5eb"),n("4a80")},"8bbe":function(t,e,n){},9399:function(t,e,n){"use strict";function i(t,e){if(t.length!==e.length)return!1;let n=0;for(let i=0;i<t.length;i++)n|=t[i]^e[i];return 0===n}n.d(e,"a",(function(){return i}))},"9b80":function(t,e,n){"use strict";n.d(e,"g",(function(){return i.detectEnv})),n.d(e,"t",(function(){return i.isMobile})),n.d(e,"o",(function(){return i.isBrowser})),n.d(e,"j",(function(){return i.getFromWindow})),n.d(e,"l",(function(){return i.getLocation})),n.d(e,"i",(function(){return i.getClientMeta})),n.d(e,"D",(function(){return i.setLocal})),n.d(e,"k",(function(){return i.getLocal})),n.d(e,"C",(function(){return i.removeLocal})),n.d(e,"x",(function(){return i.mobileLinkChoiceKey})),n.d(e,"E",(function(){return o})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return f})),n.d(e,"f",(function(){return p})),n.d(e,"y",(function(){return C})),n.d(e,"z",(function(){return E})),n.d(e,"B",(function(){return _})),n.d(e,"F",(function(){return w})),n.d(e,"n",(function(){return v})),n.d(e,"h",(function(){return q})),n.d(e,"w",(function(){return L})),n.d(e,"A",(function(){return A})),n.d(e,"m",(function(){return j})),n.d(e,"a",(function(){return T})),n.d(e,"q",(function(){return y})),n.d(e,"s",(function(){return M})),n.d(e,"r",(function(){return k})),n.d(e,"p",(function(){return x})),n.d(e,"u",(function(){return S})),n.d(e,"v",(function(){return I}));var i=n("2aab");const r=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],o=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],s={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"};var a=n("d114"),c=n.n(a),h=n("ec52");function u(t){return h.b(new Uint8Array(t))}function l(t,e){return h.c(new Uint8Array(t),!e)}function d(t){return h.f(t).buffer}function f(t){return h.n(t).buffer}function p(t,e){const n=h.x(h.y(new c.a(t).toString(16)));return e?n:h.a(n)}var m=n("1c55");function g(t){return h.y(t)}const _=n("18cd").payloadId;function w(){const t=((t,e)=>{for(e=t="";t++<36;e+=51*t&52?(15^t?8^Math.random()*(20^t?16:4):4).toString(16):"-");return e})();return t}function v(t,e){let n;const i=function(t,e){let n;const i=s[t];return i&&(n=`https://${i}.infura.io/v3/${e}`),n}(t,e.infuraId);return e.custom&&e.custom[t]?n=e.custom[t]:i&&(n=i),n}function b(t,e){return h.s(t,e)}function y(t){return void 0!==t.method}function M(t){return void 0!==t.result}function k(t){return void 0!==t.error}function x(t){return void 0!==t.event}function S(t){return r.includes(t)||t.startsWith("wc_")}function I(t){return!!t.method.startsWith("wc_")||!o.includes(t.method)}function O(t){t=Object(h.x)(t.toLowerCase());const e=Object(h.x)(Object(m.keccak_256)(function(t){return h.A(t)}(t)));let n="";for(let i=0;i<t.length;i++)parseInt(e[i],16)>7?n+=t[i].toUpperCase():n+=t[i];return Object(h.a)(n)}function C(t){return function(t){return!(t&&t.length)}(t)||b(t[0])||(t[0]=function(t,e){return h.B(t,!e)}(t[0])),t}function E(t){if(void 0!==t.type&&"0"!==t.type)return t;if(void 0===t.from||!(t=>!(!t||"0x"!==t.toLowerCase().substring(0,2)||!/^(0x)?[0-9a-f]{40}$/i.test(t)||!/^(0x)?[0-9a-f]{40}$/.test(t)&&!/^(0x)?[0-9A-F]{40}$/.test(t)&&t!==O(t)))(t.from))throw new Error("Transaction object must include a valid 'from' value.");function e(t){let e=t;return("number"==typeof t||"string"==typeof t&&!function(t){return""===t||"string"==typeof t&&""===t.trim()}(t))&&(b(t)?"string"==typeof t&&(e=g(t)):e=p(t)),"string"==typeof e&&(e=function(t){return h.w(h.a(t))}(e)),e}const n={from:g(t.from),to:void 0===t.to?void 0:g(t.to),gasPrice:void 0===t.gasPrice?"":e(t.gasPrice),gas:void 0===t.gas?void 0===t.gasLimit?"":e(t.gasLimit):e(t.gas),value:void 0===t.value?"":e(t.value),nonce:void 0===t.nonce?"":e(t.nonce),data:void 0===t.data?"":g(t.data)||"0x"},i=["gasPrice","gas","value","nonce"];return Object.keys(n).forEach((t=>{(void 0===n[t]||"string"==typeof n[t]&&!n[t].trim().length)&&i.includes(t)&&delete n[t]})),n}function q(t){const e=t.message||"Failed or Rejected Request";let n=-32e3;if(t&&!t.code)switch(e){case"Parse error":n=-32700;break;case"Invalid request":n=-32600;break;case"Method not found":n=-32601;break;case"Invalid params":n=-32602;break;case"Internal error":n=-32603;break;default:n=-32e3}const i={code:n,message:e};return t.data&&(i.data=t.data),i}var R=n("72bf");function j(t){const e=-1!==t.indexOf("?")?t.indexOf("?"):void 0;return void 0!==e?t.substr(e):""}function T(t,e){let n=N(t);return n=Object.assign(Object.assign({},n),e),t=function(t){return R.stringify(t)}(n)}function N(t){return R.parse(t)}function L(t){return void 0!==t.bridge}function A(t){const e=t.indexOf(":"),n=-1!==t.indexOf("?")?t.indexOf("?"):void 0,i=t.substring(0,e);const r=function(t){const e=t.split("@");return{handshakeTopic:e[0],version:parseInt(e[1],10)}}(t.substring(e+1,n));const o=function(t){const e=N(t);return{key:e.key||"",bridge:e.bridge||""}}(void 0!==n?t.substr(n):"");return Object.assign(Object.assign({protocol:i},r),o)}},"9c3d":function(t,e){},a3aa:function(t,e){},a80d:function(t,e,n){},aae3:function(t,e,n){"use strict";function i(t){let e;return"undefined"!=typeof window&&void 0!==window[t]&&(e=window[t]),e}function r(t){const e=i(t);if(!e)throw new Error(t+" is not defined in Window");return e}Object.defineProperty(e,"__esModule",{value:!0}),e.getLocalStorage=e.getLocalStorageOrThrow=e.getCrypto=e.getCryptoOrThrow=e.getLocation=e.getLocationOrThrow=e.getNavigator=e.getNavigatorOrThrow=e.getDocument=e.getDocumentOrThrow=e.getFromWindowOrThrow=e.getFromWindow=void 0,e.getFromWindow=i,e.getFromWindowOrThrow=r,e.getDocumentOrThrow=function(){return r("document")},e.getDocument=function(){return i("document")},e.getNavigatorOrThrow=function(){return r("navigator")},e.getNavigator=function(){return i("navigator")},e.getLocationOrThrow=function(){return r("location")},e.getLocation=function(){return i("location")},e.getCryptoOrThrow=function(){return r("crypto")},e.getCrypto=function(){return i("crypto")},e.getLocalStorageOrThrow=function(){return r("localStorage")},e.getLocalStorage=function(){return i("localStorage")}},ab81:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("bdea");function r(t){return i.getBrowerCrypto().getRandomValues(new Uint8Array(t))}},acd6:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"d",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return a})),n.d(e,"a",(function(){return c}));const i="INTERNAL_ERROR",r="SERVER_ERROR",o=[-32700,-32600,-32601,-32602,-32603],s=[-32e3,-32099],a={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[i]:{code:-32603,message:"Internal error"},[r]:{code:-32e3,message:"Server error"}},c=r},ae46:function(t,e,n){"use strict";var i=n("324a");i.a,i.a},b770:function(t,e,n){"use strict";var i=n("bdea");n.o(i,"isConstantTime")&&n.d(e,"isConstantTime",(function(){return i.isConstantTime}))},bdea:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n("fc63"),e),r(n("e1fd"),e)},c5eb:function(t,e,n){"use strict";var i=n("b770");n.o(i,"isConstantTime")&&n.d(e,"isConstantTime",(function(){return i.isConstantTime})),n("8bbe");var r=n("9c3d");n.o(r,"isConstantTime")&&n.d(e,"isConstantTime",(function(){return r.isConstantTime}));var o=n("9399");n.d(e,"isConstantTime",(function(){return o.a}))},c8c5:function(t,e){},c9ad:function(t,e,n){"use strict";function i(){return Date.now()*Math.pow(10,3)+Math.floor(Math.random()*Math.pow(10,3))}n.d(e,"a",(function(){return i})),n("cbd4"),n("acd6")},cad0:function(t,e,n){},cbd4:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s}));var i=n("acd6");function r(t){return i.c.includes(t)}function o(t){return Object.keys(i.f).includes(t)?i.f[t]:i.f[i.a]}function s(t){return Object.values(i.f).find((e=>e.code===t))||i.f[i.a]}},cf2d:function(t,e,n){"use strict";n("a3aa"),n("324a"),n("ae46"),n("c8c5")},d114:function(t,e,n){(function(t){!function(t,e){"use strict";function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function r(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s=n(17).Buffer}catch(t){}function a(t,e,n){for(var i=0,r=Math.min(t.length,n),o=e;o<r;o++){var s=t.charCodeAt(o)-48;i<<=4,i|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return i}function c(t,e,n,i){for(var r=0,o=Math.min(t.length,n),s=e;s<o;s++){var a=t.charCodeAt(s)-48;r*=i,r+=a>=49?a-49+10:a>=17?a-17+10:a}return r}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&r++,16===e?this._parseHex(t,r):this._parseBase(t,e,r),"-"===t[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o,s,a=0;if("be"===n)for(r=t.length-1,o=0;r>=0;r-=3)s=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(r=0,o=0;r<t.length;r+=3)s=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,r,o=0;for(n=t.length-6,i=0;n>=e;n-=6)r=a(t,n,n+6),this.words[i]|=r<<o&67108863,this.words[i+1]|=r>>>26-o&4194303,(o+=24)>=26&&(o-=26,i++);n+6!==e&&(r=a(t,e,n+6),this.words[i]|=r<<o&67108863,this.words[i+1]|=r>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=e)i++;i--,r=r/e|0;for(var o=t.length-n,s=o%i,a=Math.min(o,o-s)+n,h=0,u=n;u<a;u+=i)h=c(t,u,u+i,e),this.imuln(r),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==s){var l=1;for(h=c(t,u,t.length,e),u=0;u<s;u++)l*=e;this.imuln(l),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,n){n.negative=e.negative^t.negative;var i=t.length+e.length|0;n.length=i,i=i-1|0;var r=0|t.words[0],o=0|e.words[0],s=r*o,a=67108863&s,c=s/67108864|0;n.words[0]=a;for(var h=1;h<i;h++){for(var u=c>>>26,l=67108863&c,d=Math.min(h,e.length-1),f=Math.max(0,h-t.length+1);f<=d;f++){var p=h-f|0;u+=(s=(r=0|t.words[p])*(o=0|e.words[f])+l)/67108864|0,l=67108863&s}n.words[h]=0|l,c=0|u}return 0!==c?n.words[h]=0|c:n.length--,n.strip()}o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var r=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<r|o)).toString(16);n=0!==(o=a>>>24-r&16777215)||s!==this.length-1?h[6-c.length]+c+n:c+n,(r+=2)>=26&&(r-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var d=u[t],f=l[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(t);n=(p=p.idivn(f)).isZero()?m+n:h[d-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return i(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var r=this.byteLength(),o=n||Math.max(1,r);i(r<=o,"byte array longer than desired length"),i(o>0,"Requested array length <= 0"),this.strip();var s,a,c="le"===e,h=new t(o),u=this.clone();if(c){for(a=0;!u.isZero();a++)s=u.andln(255),u.iushrn(8),h[a]=s;for(;a<o;a++)h[a]=0}else{for(a=0;a<o-r;a++)h[a]=0;for(a=0;!u.isZero();a++)s=u.andln(255),u.iushrn(8),h[o-a-1]=s}return h},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return i(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return i(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var i=0;i<n.length;i++)this.words[i]=e.words[i]^n.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return i(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var n=t/26|0,r=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<r:this.words[n]&~(1<<r),this.strip()},o.prototype.iadd=function(t){var e,n,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,i=t):(n=t,i=this);for(var r=0,o=0;o<i.length;o++)e=(0|n.words[o])+(0|i.words[o])+r,this.words[o]=67108863&e,r=e>>>26;for(;0!==r&&o<n.length;o++)e=(0|n.words[o])+r,this.words[o]=67108863&e,r=e>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,i,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=t):(n=t,i=this);for(var o=0,s=0;s<i.length;s++)o=(e=(0|n.words[s])-(0|i.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<n.length;s++)o=(e=(0|n.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var f=function(t,e,n){var i,r,o,s=t.words,a=e.words,c=n.words,h=0,u=0|s[0],l=8191&u,d=u>>>13,f=0|s[1],p=8191&f,m=f>>>13,g=0|s[2],_=8191&g,w=g>>>13,v=0|s[3],b=8191&v,y=v>>>13,M=0|s[4],k=8191&M,x=M>>>13,S=0|s[5],I=8191&S,O=S>>>13,C=0|s[6],E=8191&C,q=C>>>13,R=0|s[7],j=8191&R,T=R>>>13,N=0|s[8],L=8191&N,A=N>>>13,P=0|s[9],W=8191&P,z=P>>>13,U=0|a[0],B=8191&U,D=U>>>13,F=0|a[1],Z=8191&F,Q=F>>>13,J=0|a[2],H=8191&J,$=J>>>13,K=0|a[3],V=8191&K,X=K>>>13,Y=0|a[4],G=8191&Y,tt=Y>>>13,et=0|a[5],nt=8191&et,it=et>>>13,rt=0|a[6],ot=8191&rt,st=rt>>>13,at=0|a[7],ct=8191&at,ht=at>>>13,ut=0|a[8],lt=8191&ut,dt=ut>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;n.negative=t.negative^e.negative,n.length=19;var gt=(h+(i=Math.imul(l,B))|0)+((8191&(r=(r=Math.imul(l,D))+Math.imul(d,B)|0))<<13)|0;h=((o=Math.imul(d,D))+(r>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(p,B),r=(r=Math.imul(p,D))+Math.imul(m,B)|0,o=Math.imul(m,D);var _t=(h+(i=i+Math.imul(l,Z)|0)|0)+((8191&(r=(r=r+Math.imul(l,Q)|0)+Math.imul(d,Z)|0))<<13)|0;h=((o=o+Math.imul(d,Q)|0)+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(_,B),r=(r=Math.imul(_,D))+Math.imul(w,B)|0,o=Math.imul(w,D),i=i+Math.imul(p,Z)|0,r=(r=r+Math.imul(p,Q)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,Q)|0;var wt=(h+(i=i+Math.imul(l,H)|0)|0)+((8191&(r=(r=r+Math.imul(l,$)|0)+Math.imul(d,H)|0))<<13)|0;h=((o=o+Math.imul(d,$)|0)+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(b,B),r=(r=Math.imul(b,D))+Math.imul(y,B)|0,o=Math.imul(y,D),i=i+Math.imul(_,Z)|0,r=(r=r+Math.imul(_,Q)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,Q)|0,i=i+Math.imul(p,H)|0,r=(r=r+Math.imul(p,$)|0)+Math.imul(m,H)|0,o=o+Math.imul(m,$)|0;var vt=(h+(i=i+Math.imul(l,V)|0)|0)+((8191&(r=(r=r+Math.imul(l,X)|0)+Math.imul(d,V)|0))<<13)|0;h=((o=o+Math.imul(d,X)|0)+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(k,B),r=(r=Math.imul(k,D))+Math.imul(x,B)|0,o=Math.imul(x,D),i=i+Math.imul(b,Z)|0,r=(r=r+Math.imul(b,Q)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,Q)|0,i=i+Math.imul(_,H)|0,r=(r=r+Math.imul(_,$)|0)+Math.imul(w,H)|0,o=o+Math.imul(w,$)|0,i=i+Math.imul(p,V)|0,r=(r=r+Math.imul(p,X)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,X)|0;var bt=(h+(i=i+Math.imul(l,G)|0)|0)+((8191&(r=(r=r+Math.imul(l,tt)|0)+Math.imul(d,G)|0))<<13)|0;h=((o=o+Math.imul(d,tt)|0)+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(I,B),r=(r=Math.imul(I,D))+Math.imul(O,B)|0,o=Math.imul(O,D),i=i+Math.imul(k,Z)|0,r=(r=r+Math.imul(k,Q)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,Q)|0,i=i+Math.imul(b,H)|0,r=(r=r+Math.imul(b,$)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,$)|0,i=i+Math.imul(_,V)|0,r=(r=r+Math.imul(_,X)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,X)|0,i=i+Math.imul(p,G)|0,r=(r=r+Math.imul(p,tt)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,tt)|0;var yt=(h+(i=i+Math.imul(l,nt)|0)|0)+((8191&(r=(r=r+Math.imul(l,it)|0)+Math.imul(d,nt)|0))<<13)|0;h=((o=o+Math.imul(d,it)|0)+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(E,B),r=(r=Math.imul(E,D))+Math.imul(q,B)|0,o=Math.imul(q,D),i=i+Math.imul(I,Z)|0,r=(r=r+Math.imul(I,Q)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,Q)|0,i=i+Math.imul(k,H)|0,r=(r=r+Math.imul(k,$)|0)+Math.imul(x,H)|0,o=o+Math.imul(x,$)|0,i=i+Math.imul(b,V)|0,r=(r=r+Math.imul(b,X)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,X)|0,i=i+Math.imul(_,G)|0,r=(r=r+Math.imul(_,tt)|0)+Math.imul(w,G)|0,o=o+Math.imul(w,tt)|0,i=i+Math.imul(p,nt)|0,r=(r=r+Math.imul(p,it)|0)+Math.imul(m,nt)|0,o=o+Math.imul(m,it)|0;var Mt=(h+(i=i+Math.imul(l,ot)|0)|0)+((8191&(r=(r=r+Math.imul(l,st)|0)+Math.imul(d,ot)|0))<<13)|0;h=((o=o+Math.imul(d,st)|0)+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(j,B),r=(r=Math.imul(j,D))+Math.imul(T,B)|0,o=Math.imul(T,D),i=i+Math.imul(E,Z)|0,r=(r=r+Math.imul(E,Q)|0)+Math.imul(q,Z)|0,o=o+Math.imul(q,Q)|0,i=i+Math.imul(I,H)|0,r=(r=r+Math.imul(I,$)|0)+Math.imul(O,H)|0,o=o+Math.imul(O,$)|0,i=i+Math.imul(k,V)|0,r=(r=r+Math.imul(k,X)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,X)|0,i=i+Math.imul(b,G)|0,r=(r=r+Math.imul(b,tt)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,tt)|0,i=i+Math.imul(_,nt)|0,r=(r=r+Math.imul(_,it)|0)+Math.imul(w,nt)|0,o=o+Math.imul(w,it)|0,i=i+Math.imul(p,ot)|0,r=(r=r+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var kt=(h+(i=i+Math.imul(l,ct)|0)|0)+((8191&(r=(r=r+Math.imul(l,ht)|0)+Math.imul(d,ct)|0))<<13)|0;h=((o=o+Math.imul(d,ht)|0)+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(L,B),r=(r=Math.imul(L,D))+Math.imul(A,B)|0,o=Math.imul(A,D),i=i+Math.imul(j,Z)|0,r=(r=r+Math.imul(j,Q)|0)+Math.imul(T,Z)|0,o=o+Math.imul(T,Q)|0,i=i+Math.imul(E,H)|0,r=(r=r+Math.imul(E,$)|0)+Math.imul(q,H)|0,o=o+Math.imul(q,$)|0,i=i+Math.imul(I,V)|0,r=(r=r+Math.imul(I,X)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,X)|0,i=i+Math.imul(k,G)|0,r=(r=r+Math.imul(k,tt)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,tt)|0,i=i+Math.imul(b,nt)|0,r=(r=r+Math.imul(b,it)|0)+Math.imul(y,nt)|0,o=o+Math.imul(y,it)|0,i=i+Math.imul(_,ot)|0,r=(r=r+Math.imul(_,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,i=i+Math.imul(p,ct)|0,r=(r=r+Math.imul(p,ht)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ht)|0;var xt=(h+(i=i+Math.imul(l,lt)|0)|0)+((8191&(r=(r=r+Math.imul(l,dt)|0)+Math.imul(d,lt)|0))<<13)|0;h=((o=o+Math.imul(d,dt)|0)+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(W,B),r=(r=Math.imul(W,D))+Math.imul(z,B)|0,o=Math.imul(z,D),i=i+Math.imul(L,Z)|0,r=(r=r+Math.imul(L,Q)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,Q)|0,i=i+Math.imul(j,H)|0,r=(r=r+Math.imul(j,$)|0)+Math.imul(T,H)|0,o=o+Math.imul(T,$)|0,i=i+Math.imul(E,V)|0,r=(r=r+Math.imul(E,X)|0)+Math.imul(q,V)|0,o=o+Math.imul(q,X)|0,i=i+Math.imul(I,G)|0,r=(r=r+Math.imul(I,tt)|0)+Math.imul(O,G)|0,o=o+Math.imul(O,tt)|0,i=i+Math.imul(k,nt)|0,r=(r=r+Math.imul(k,it)|0)+Math.imul(x,nt)|0,o=o+Math.imul(x,it)|0,i=i+Math.imul(b,ot)|0,r=(r=r+Math.imul(b,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,i=i+Math.imul(_,ct)|0,r=(r=r+Math.imul(_,ht)|0)+Math.imul(w,ct)|0,o=o+Math.imul(w,ht)|0,i=i+Math.imul(p,lt)|0,r=(r=r+Math.imul(p,dt)|0)+Math.imul(m,lt)|0,o=o+Math.imul(m,dt)|0;var St=(h+(i=i+Math.imul(l,pt)|0)|0)+((8191&(r=(r=r+Math.imul(l,mt)|0)+Math.imul(d,pt)|0))<<13)|0;h=((o=o+Math.imul(d,mt)|0)+(r>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(W,Z),r=(r=Math.imul(W,Q))+Math.imul(z,Z)|0,o=Math.imul(z,Q),i=i+Math.imul(L,H)|0,r=(r=r+Math.imul(L,$)|0)+Math.imul(A,H)|0,o=o+Math.imul(A,$)|0,i=i+Math.imul(j,V)|0,r=(r=r+Math.imul(j,X)|0)+Math.imul(T,V)|0,o=o+Math.imul(T,X)|0,i=i+Math.imul(E,G)|0,r=(r=r+Math.imul(E,tt)|0)+Math.imul(q,G)|0,o=o+Math.imul(q,tt)|0,i=i+Math.imul(I,nt)|0,r=(r=r+Math.imul(I,it)|0)+Math.imul(O,nt)|0,o=o+Math.imul(O,it)|0,i=i+Math.imul(k,ot)|0,r=(r=r+Math.imul(k,st)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,st)|0,i=i+Math.imul(b,ct)|0,r=(r=r+Math.imul(b,ht)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ht)|0,i=i+Math.imul(_,lt)|0,r=(r=r+Math.imul(_,dt)|0)+Math.imul(w,lt)|0,o=o+Math.imul(w,dt)|0;var It=(h+(i=i+Math.imul(p,pt)|0)|0)+((8191&(r=(r=r+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;h=((o=o+Math.imul(m,mt)|0)+(r>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(W,H),r=(r=Math.imul(W,$))+Math.imul(z,H)|0,o=Math.imul(z,$),i=i+Math.imul(L,V)|0,r=(r=r+Math.imul(L,X)|0)+Math.imul(A,V)|0,o=o+Math.imul(A,X)|0,i=i+Math.imul(j,G)|0,r=(r=r+Math.imul(j,tt)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,tt)|0,i=i+Math.imul(E,nt)|0,r=(r=r+Math.imul(E,it)|0)+Math.imul(q,nt)|0,o=o+Math.imul(q,it)|0,i=i+Math.imul(I,ot)|0,r=(r=r+Math.imul(I,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,i=i+Math.imul(k,ct)|0,r=(r=r+Math.imul(k,ht)|0)+Math.imul(x,ct)|0,o=o+Math.imul(x,ht)|0,i=i+Math.imul(b,lt)|0,r=(r=r+Math.imul(b,dt)|0)+Math.imul(y,lt)|0,o=o+Math.imul(y,dt)|0;var Ot=(h+(i=i+Math.imul(_,pt)|0)|0)+((8191&(r=(r=r+Math.imul(_,mt)|0)+Math.imul(w,pt)|0))<<13)|0;h=((o=o+Math.imul(w,mt)|0)+(r>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,i=Math.imul(W,V),r=(r=Math.imul(W,X))+Math.imul(z,V)|0,o=Math.imul(z,X),i=i+Math.imul(L,G)|0,r=(r=r+Math.imul(L,tt)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,tt)|0,i=i+Math.imul(j,nt)|0,r=(r=r+Math.imul(j,it)|0)+Math.imul(T,nt)|0,o=o+Math.imul(T,it)|0,i=i+Math.imul(E,ot)|0,r=(r=r+Math.imul(E,st)|0)+Math.imul(q,ot)|0,o=o+Math.imul(q,st)|0,i=i+Math.imul(I,ct)|0,r=(r=r+Math.imul(I,ht)|0)+Math.imul(O,ct)|0,o=o+Math.imul(O,ht)|0,i=i+Math.imul(k,lt)|0,r=(r=r+Math.imul(k,dt)|0)+Math.imul(x,lt)|0,o=o+Math.imul(x,dt)|0;var Ct=(h+(i=i+Math.imul(b,pt)|0)|0)+((8191&(r=(r=r+Math.imul(b,mt)|0)+Math.imul(y,pt)|0))<<13)|0;h=((o=o+Math.imul(y,mt)|0)+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,i=Math.imul(W,G),r=(r=Math.imul(W,tt))+Math.imul(z,G)|0,o=Math.imul(z,tt),i=i+Math.imul(L,nt)|0,r=(r=r+Math.imul(L,it)|0)+Math.imul(A,nt)|0,o=o+Math.imul(A,it)|0,i=i+Math.imul(j,ot)|0,r=(r=r+Math.imul(j,st)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,st)|0,i=i+Math.imul(E,ct)|0,r=(r=r+Math.imul(E,ht)|0)+Math.imul(q,ct)|0,o=o+Math.imul(q,ht)|0,i=i+Math.imul(I,lt)|0,r=(r=r+Math.imul(I,dt)|0)+Math.imul(O,lt)|0,o=o+Math.imul(O,dt)|0;var Et=(h+(i=i+Math.imul(k,pt)|0)|0)+((8191&(r=(r=r+Math.imul(k,mt)|0)+Math.imul(x,pt)|0))<<13)|0;h=((o=o+Math.imul(x,mt)|0)+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(W,nt),r=(r=Math.imul(W,it))+Math.imul(z,nt)|0,o=Math.imul(z,it),i=i+Math.imul(L,ot)|0,r=(r=r+Math.imul(L,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,i=i+Math.imul(j,ct)|0,r=(r=r+Math.imul(j,ht)|0)+Math.imul(T,ct)|0,o=o+Math.imul(T,ht)|0,i=i+Math.imul(E,lt)|0,r=(r=r+Math.imul(E,dt)|0)+Math.imul(q,lt)|0,o=o+Math.imul(q,dt)|0;var qt=(h+(i=i+Math.imul(I,pt)|0)|0)+((8191&(r=(r=r+Math.imul(I,mt)|0)+Math.imul(O,pt)|0))<<13)|0;h=((o=o+Math.imul(O,mt)|0)+(r>>>13)|0)+(qt>>>26)|0,qt&=67108863,i=Math.imul(W,ot),r=(r=Math.imul(W,st))+Math.imul(z,ot)|0,o=Math.imul(z,st),i=i+Math.imul(L,ct)|0,r=(r=r+Math.imul(L,ht)|0)+Math.imul(A,ct)|0,o=o+Math.imul(A,ht)|0,i=i+Math.imul(j,lt)|0,r=(r=r+Math.imul(j,dt)|0)+Math.imul(T,lt)|0,o=o+Math.imul(T,dt)|0;var Rt=(h+(i=i+Math.imul(E,pt)|0)|0)+((8191&(r=(r=r+Math.imul(E,mt)|0)+Math.imul(q,pt)|0))<<13)|0;h=((o=o+Math.imul(q,mt)|0)+(r>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(W,ct),r=(r=Math.imul(W,ht))+Math.imul(z,ct)|0,o=Math.imul(z,ht),i=i+Math.imul(L,lt)|0,r=(r=r+Math.imul(L,dt)|0)+Math.imul(A,lt)|0,o=o+Math.imul(A,dt)|0;var jt=(h+(i=i+Math.imul(j,pt)|0)|0)+((8191&(r=(r=r+Math.imul(j,mt)|0)+Math.imul(T,pt)|0))<<13)|0;h=((o=o+Math.imul(T,mt)|0)+(r>>>13)|0)+(jt>>>26)|0,jt&=67108863,i=Math.imul(W,lt),r=(r=Math.imul(W,dt))+Math.imul(z,lt)|0,o=Math.imul(z,dt);var Tt=(h+(i=i+Math.imul(L,pt)|0)|0)+((8191&(r=(r=r+Math.imul(L,mt)|0)+Math.imul(A,pt)|0))<<13)|0;h=((o=o+Math.imul(A,mt)|0)+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863;var Nt=(h+(i=Math.imul(W,pt))|0)+((8191&(r=(r=Math.imul(W,mt))+Math.imul(z,pt)|0))<<13)|0;return h=((o=Math.imul(z,mt))+(r>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,c[0]=gt,c[1]=_t,c[2]=wt,c[3]=vt,c[4]=bt,c[5]=yt,c[6]=Mt,c[7]=kt,c[8]=xt,c[9]=St,c[10]=It,c[11]=Ot,c[12]=Ct,c[13]=Et,c[14]=qt,c[15]=Rt,c[16]=jt,c[17]=Tt,c[18]=Nt,0!==h&&(c[19]=h,n.length++),n};function p(t,e,n){return(new m).mulp(t,e,n)}function m(t,e){this.x=t,this.y=e}Math.imul||(f=d),o.prototype.mulTo=function(t,e){var n,i=this.length+t.length;return n=10===this.length&&10===t.length?f(this,t,e):i<63?d(this,t,e):i<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var i=0,r=0,o=0;o<n.length-1;o++){var s=r;r=0;for(var a=67108863&i,c=Math.min(o,e.length-1),h=Math.max(0,o-t.length+1);h<=c;h++){var u=o-h,l=(0|t.words[u])*(0|e.words[h]),d=67108863&l;a=67108863&(d=d+a|0),r+=(s=(s=s+(l/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}n.words[o]=a,i=s,s=r}return 0!==i?n.words[o]=i:n.length--,n.strip()}(this,t,e):p(this,t,e),n},m.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,n,t);return e},m.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var i=0,r=0;r<e;r++)i|=(1&t)<<e-r-1,t>>=1;return i},m.prototype.permute=function(t,e,n,i,r,o){for(var s=0;s<o;s++)i[s]=e[t[s]],r[s]=n[t[s]]},m.prototype.transform=function(t,e,n,i,r,o){this.permute(o,t,e,n,i,r);for(var s=1;s<r;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),h=Math.sin(2*Math.PI/a),u=0;u<r;u+=a)for(var l=c,d=h,f=0;f<s;f++){var p=n[u+f],m=i[u+f],g=n[u+f+s],_=i[u+f+s],w=l*g-d*_;_=l*_+d*g,g=w,n[u+f]=p+g,i[u+f]=m+_,n[u+f+s]=p-g,i[u+f+s]=m-_,f!==a&&(w=c*l-h*d,d=c*d+h*l,l=w)}},m.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},m.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=t[i];t[i]=t[n-i-1],t[n-i-1]=r,r=e[i],e[i]=-e[n-i-1],e[n-i-1]=-r}},m.prototype.normalize13b=function(t,e){for(var n=0,i=0;i<e/2;i++){var r=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+n;t[i]=67108863&r,n=r<67108864?0:r/67108864|0}return t},m.prototype.convert13b=function(t,e,n,r){for(var o=0,s=0;s<e;s++)o+=0|t[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<r;++s)n[s]=0;i(0===o),i(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},m.prototype.mulp=function(t,e,n){var i=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(i),o=this.stub(i),s=new Array(i),a=new Array(i),c=new Array(i),h=new Array(i),u=new Array(i),l=new Array(i),d=n.words;d.length=i,this.convert13b(t.words,t.length,s,i),this.convert13b(e.words,e.length,h,i),this.transform(s,o,a,c,i,r),this.transform(h,o,u,l,i,r);for(var f=0;f<i;f++){var p=a[f]*u[f]-c[f]*l[f];c[f]=a[f]*l[f]+c[f]*u[f],a[f]=p}return this.conjugate(a,c,i),this.transform(a,c,d,o,i,r),this.conjugate(d,o,i),this.normalize13b(d,i),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),p(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){i("number"==typeof t),i(t<67108864);for(var e=0,n=0;n<this.length;n++){var r=(0|this.words[n])*t,o=(67108863&r)+(67108863&e);e>>=26,e+=r/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var i=n/26|0,r=n%26;e[n]=(t.words[i]&1<<r)>>>r}return e}(t);if(0===e.length)return new o(1);for(var n=this,i=0;i<e.length&&0===e[i];i++,n=n.sqr());if(++i<e.length)for(var r=n.sqr();i<e.length;i++,r=r.sqr())0!==e[i]&&(n=n.mul(r));return n},o.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,n=t%26,r=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,c=(0|this.words[e])-a<<n;this.words[e]=c|s,s=a>>>26-n}s&&(this.words[e]=s,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this.strip()},o.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var r;i("number"==typeof t&&t>=0),r=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,c=n;if(r-=s,r=Math.max(0,r),c){for(var h=0;h<s;h++)c.words[h]=this.words[h];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,h=0;h<this.length;h++)this.words[h]=this.words[h+s];else this.words[0]=0,this.length=1;var u=0;for(h=this.length-1;h>=0&&(0!==u||h>=r);h--){var l=0|this.words[h];this.words[h]=u<<26-o|l>>>o,u=l&a}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return i(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,r=1<<e;return!(this.length<=n)&&!!(this.words[n]&r)},o.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var r,o,s=t.length+n;this._expand(s);var a=0;for(r=0;r<t.length;r++){o=(0|this.words[r+n])+a;var c=(0|t.words[r])*e;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[r+n]=67108863&o}for(;r<this.length-n;r++)a=(o=(0|this.words[r+n])+a)>>26,this.words[r+n]=67108863&o;if(0===a)return this.strip();for(i(-1===a),a=0,r=0;r<this.length;r++)a=(o=-(0|this.words[r])+a)>>26,this.words[r]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),i=this.clone(),r=t,s=0|r.words[r.length-1];0!==(n=26-this._countBits(s))&&(r=r.ushln(n),i.iushln(n),s=0|r.words[r.length-1]);var a,c=i.length-r.length;if("mod"!==e){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var u=i.clone()._ishlnsubmul(r,1,c);0===u.negative&&(i=u,a&&(a.words[c]=1));for(var l=c-1;l>=0;l--){var d=67108864*(0|i.words[r.length+l])+(0|i.words[r.length+l-1]);for(d=Math.min(d/s|0,67108863),i._ishlnsubmul(r,d,l);0!==i.negative;)d--,i.negative=0,i._ishlnsubmul(r,1,l),i.isZero()||(i.negative^=1);a&&(a.words[l]=d)}return a&&a.strip(),i.strip(),"div"!==e&&0!==n&&i.iushrn(n),{div:a||null,mod:i}},o.prototype.divmod=function(t,e,n){return i(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(r=a.div.neg()),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(t)),{div:r,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(r=a.div.neg()),{div:r,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var r,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),r=t.andln(1),o=n.cmp(i);return o<0||1===r&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){i(t<=67108863);for(var e=(1<<26)%t,n=0,r=this.length-1;r>=0;r--)n=(e*n+(0|this.words[r]))%t;return n},o.prototype.idivn=function(t){i(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var r=(0|this.words[n])+67108864*e;this.words[n]=r/t|0,e=r%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r=new o(1),s=new o(0),a=new o(0),c=new o(1),h=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++h;for(var u=n.clone(),l=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(r.isOdd()||s.isOdd())&&(r.iadd(u),s.isub(l)),r.iushrn(1),s.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(u),c.isub(l)),a.iushrn(1),c.iushrn(1);e.cmp(n)>=0?(e.isub(n),r.isub(a),s.isub(c)):(n.isub(e),a.isub(r),c.isub(s))}return{a:a,b:c,gcd:n.iushln(h)}},o.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r,s=new o(1),a=new o(0),c=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var h=0,u=1;0==(e.words[0]&u)&&h<26;++h,u<<=1);if(h>0)for(e.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var l=0,d=1;0==(n.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(n.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a)):(n.isub(e),a.isub(s))}return(r=0===e.cmpn(1)?s:a).cmpn(0)<0&&r.iadd(t),r},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var i=0;e.isEven()&&n.isEven();i++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=e.cmp(n);if(r<0){var o=e;e=n,n=o}else if(0===r||0===n.cmpn(1))break;e.isub(n)}return n.iushln(i)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,n=(t-e)/26,r=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var o=r,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),i(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|t.words[n];if(i!==r){i<r?e=-1:i>r&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new M(t)},o.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function y(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):n.strip(),n},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},r(w,_),w.prototype.split=function(t,e){for(var n=4194303,i=Math.min(t.length,9),r=0;r<i;r++)e.words[r]=t.words[r];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&n,r=10;r<t.length;r++){var s=0|t.words[r];t.words[r-10]=(s&n)<<4|o>>>22,o=s}o>>>=22,t.words[r-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},w.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var i=0|t.words[n];e+=977*i,t.words[n]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},r(v,_),r(b,_),r(y,_),y.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var i=19*(0|t.words[n])+e,r=67108863&i;i>>>=26,t.words[n]=r,e=i}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new w;else if("p224"===t)e=new v;else if("p192"===t)e=new b;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new y}return g[t]=e,e},M.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){i(0==(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},M.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},M.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},M.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var r=this.m.subn(1),s=0;!r.isZero()&&0===r.andln(1);)s++,r.iushrn(1);i(!r.isZero());var a=new o(1).toRed(this),c=a.redNeg(),h=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new o(2*u*u).toRed(this);0!==this.pow(u,h).cmp(c);)u.redIAdd(c);for(var l=this.pow(u,r),d=this.pow(t,r.addn(1).iushrn(1)),f=this.pow(t,r),p=s;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();i(g<p);var _=this.pow(l,new o(1).iushln(p-g-1));d=d.redMul(_),l=_.redSqr(),f=f.redMul(l),p=g}return d},M.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},M.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],t);var r=n[0],s=0,a=0,c=e.bitLength()%26;for(0===c&&(c=26),i=e.length-1;i>=0;i--){for(var h=e.words[i],u=c-1;u>=0;u--){var l=h>>u&1;r!==n[0]&&(r=this.sqr(r)),0!==l||0!==s?(s<<=1,s|=l,(4===++a||0===i&&0===u)&&(r=this.mul(r,n[s]),a=0,s=0)):a=0}c=26}return r},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new k(t)},r(k,M),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,n("62e4")(t))},e1fd:function(t,e,n){"use strict";(function(t){function n(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function i(){return void 0!==t&&void 0!==t.versions&&void 0!==t.versions.node}Object.defineProperty(e,"__esModule",{value:!0}),e.isBrowser=e.isNode=e.isReactNative=void 0,e.isReactNative=n,e.isNode=i,e.isBrowser=function(){return!n()&&!i()}}).call(this,n("4362"))},ec52:function(t,e,n){"use strict";(function(t){n.d(e,"f",(function(){return u})),n.d(e,"g",(function(){return l})),n.d(e,"i",(function(){return d})),n.d(e,"h",(function(){return f})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return m})),n.d(e,"e",(function(){return g})),n.d(e,"d",(function(){return _})),n.d(e,"o",(function(){return w})),n.d(e,"n",(function(){return v})),n.d(e,"p",(function(){return b})),n.d(e,"A",(function(){return y})),n.d(e,"z",(function(){return M})),n.d(e,"B",(function(){return k})),n.d(e,"v",(function(){return x})),n.d(e,"u",(function(){return S})),n.d(e,"s",(function(){return C})),n.d(e,"r",(function(){return E})),n.d(e,"t",(function(){return q})),n.d(e,"q",(function(){return R})),n.d(e,"m",(function(){return j})),n.d(e,"l",(function(){return T})),n.d(e,"k",(function(){return N})),n.d(e,"j",(function(){return L})),n.d(e,"x",(function(){return P})),n.d(e,"a",(function(){return W})),n.d(e,"y",(function(){return z})),n.d(e,"w",(function(){return U}));var i=n("a977"),r=n.n(i),o=n("0497"),s=n.n(o);const a="hex",c="utf8",h="0";function u(t){return new Uint8Array(t)}function l(t,e=!1){const n=t.toString(a);return e?W(n):n}function d(t){return t.toString(c)}function f(t){return t.readUIntBE(0,t.length)}function p(t){return s()(t)}function m(t,e=!1){return l(p(t),e)}function g(t){return d(p(t))}function _(t){return f(p(t))}function w(e){return t.from(P(e),a)}function v(t){return u(w(t))}function b(t){return d(w(t))}function y(e){return t.from(e,c)}function M(t){return u(y(t))}function k(t,e=!1){return l(y(t),e)}function x(t){return function(t){return p(O(t))}(I(t))}function S(t){return O(I(t))}function I(t){return A((t>>>0).toString(2))}function O(t){return new Uint8Array(function(t,e=8){const n=A(t).match(new RegExp(`.{${e}}`,"gi"));return Array.from(n||[])}(t).map((t=>parseInt(t,2))))}function C(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}function E(e){return t.isBuffer(e)}function q(t){return r.a.strict(t)&&!E(t)}function R(t){return!q(t)&&!E(t)&&void 0!==t.byteLength}function j(t){return E(t)?"buffer":q(t)?"typed-array":R(t)?"array-buffer":Array.isArray(t)?"array":typeof t}function T(t){return function(t){return!("string"!=typeof t||!new RegExp(/^[01]+$/).test(t))&&t.length%8==0}(t)?"binary":C(t)?a:c}function N(...e){return t.concat(e)}function L(...t){let e=[];return t.forEach((t=>e=e.concat(Array.from(t)))),new Uint8Array([...e])}function A(t,e=8,n=h){return function(t,e,n=h){return function(t,e,n,i=h){const r=e-t.length;let o=t;if(r>0){const e=i.repeat(r);o=n?e+t:t+e}return o}(t,e,!0,n)}(t,function(t,e=8){const n=t%e;return n?(t-n)/e*e+e:t}(t.length,e),n)}function P(t){return t.replace(/^0x/,"")}function W(t){return t.startsWith("0x")?t:"0x"+t}function z(t){return(t=A(t=P(t),2))&&(t=W(t)),t}function U(t){const e=t.startsWith("0x");return t=(t=P(t)).startsWith(h)?t.substring(1):t,e?W(t):t}}).call(this,n("1c35").Buffer)},fc63:function(t,e,n){"use strict";(function(t){function n(){return(null==t?void 0:t.crypto)||(null==t?void 0:t.msCrypto)||{}}function i(){const t=n();return t.subtle||t.webkitSubtle}Object.defineProperty(e,"__esModule",{value:!0}),e.isBrowserCryptoAvailable=e.getSubtleCrypto=e.getBrowerCrypto=void 0,e.getBrowerCrypto=n,e.getSubtleCrypto=i,e.isBrowserCryptoAvailable=function(){return!!n()&&!!i()}}).call(this,n("c8ba"))},fca1:function(t,e,n){"use strict";n("cf2d")}}]);