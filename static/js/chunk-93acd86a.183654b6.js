(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-93acd86a"],{"4e42":function(e,t,n){"use strict";n.r(t);var a=n("c7eb"),r=n("1da1"),c=n("5530"),s=(n("d3b7"),n("25f0"),n("99e5")),u=n.n(s),o=n("502c"),f=n("ed08"),i=n("2f62"),p={name:"customApproval",computed:Object(c.a)({},Object(i.d)({web3Instance:function(e){return e.dapp.web3.web3Instance},myAddress:function(e){return e.dapp.web3.account}})),data:function(){return{loading:{dinner:!1,approve:!1},form:{tokenAddress:"",targetAddress:"",amount:"",dinner:!1,reward:"0.01"},options:[{value:"0.01",label:"0.01"},{value:"0.02",label:"0.02"},{value:"0.04",label:"0.04"},{value:"0.08",label:"0.08"}]}},methods:{dinner:function(){var e=this;return Object(r.a)(Object(a.a)().mark((function t(){var n;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading.dinner=!0,n=u.a.utils.toWei(e.form.reward.toString(),"ether"),t.next=4,e.web3Instance.eth.sendTransaction({from:e.myAddress,to:"0x66666666b97eCe0552863cF9120603A0840930f4",value:n}).catch((function(e){}));case 4:e.loading.dinner=!1;case 5:case"end":return t.stop()}}),t)})))()},approve:function(){var e=this;return Object(r.a)(Object(a.a)().mark((function t(){var n,r,c,s;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="Approve",t.next=3,Object(o.d)(e.form.tokenAddress);case 3:if(r=t.sent){t.next=7;break}return e.$message.success("未能查询到代币信息,检查地址是否正确"),t.abrupt("return");case 7:return c=null,e.form.amount?(r=parseInt(r),c=Object(f.d)(e.form.amount,r)):c="0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",e.loading.approve=!0,t.next=13,Object(o.a)(e.form.tokenAddress,c,e.form.targetAddress,n);case 13:s=t.sent,e.loading.approve=!1,s&&e.$message.success("授权成功");case 16:case"end":return t.stop()}}),t)})))()}}},b=p,d=(n("9ce0"),n("2877")),l=Object(d.a)(b,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("el-form",{attrs:{"label-position":"top",model:e.form}},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"title"},[e._v("代币授权")]),n("el-form-item",{attrs:{label:"代币地址:"}},[n("el-input",{attrs:{placeholder:"请输入代币合约地址"},model:{value:e.form.tokenAddress,callback:function(t){e.$set(e.form,"tokenAddress",t)},expression:"form.tokenAddress"}})],1),n("el-form-item",{attrs:{label:"授权合约:"}},[n("el-input",{attrs:{placeholder:"请输入授权合约地址"},model:{value:e.form.targetAddress,callback:function(t){e.$set(e.form,"targetAddress",t)},expression:"form.targetAddress"}})],1),n("el-form-item",{attrs:{label:"授权数量"}},[n("el-input",{attrs:{placeholder:"请输入授权数量,不填写则为无限大"},model:{value:e.form.amount,callback:function(t){e.$set(e.form,"amount",t)},expression:"form.amount"}})],1),n("div",{staticClass:"approve"},[n("el-button",{attrs:{type:"success",loading:e.loading.approve,round:""},on:{click:function(t){return e.approve()}}},[e._v("授权")])],1),n("el-form-item",{attrs:{label:"请TokenTool.App喝咖啡"}},[n("el-select",{attrs:{clearable:"",placeholder:"喝咖啡"},model:{value:e.form.reward,callback:function(t){e.$set(e.form,"reward",t)},expression:"form.reward"}},e._l(e.options,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),n("el-button",{attrs:{loading:e.loading.dinner,type:"primary"},on:{click:function(t){return e.dinner()}}},[e._v("喝杯咖啡")])],1)],1)],1)],1)}),[],!1,null,"69301535",null);t.default=l.exports},"502c":function(e,t,n){"use strict";n.d(t,"e",(function(){return p})),n.d(t,"h",(function(){return b})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"i",(function(){return w})),n.d(t,"g",(function(){return m})),n.d(t,"j",(function(){return v})),n.d(t,"f",(function(){return j})),n.d(t,"d",(function(){return O})),n.d(t,"a",(function(){return h}));var a=n("c7eb"),r=n("1da1"),c=n("51d2"),s=(n("e95b"),n("4360")),u=n("ed08"),o=n("cf29"),f=n("901e"),i=n.n(f),p=function(){var e=Object(r.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new s.a.state.dapp.web3.web3Instance.eth.getGasPrice;case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t,n,r){var f,i,p,b;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f="getTokenBalance",e.next=3,new s.a.state.dapp.web3.web3Instance.eth.Contract(c.abi,t);case 3:return i=e.sent,p={name:"balanceOf",erc20:!0,data:[r]},e.next=7,Object(o.b)(i,p,s.a.state.dapp.web3.account,f);case 7:return b=e.sent,e.abrupt("return",Object(u.e)(b,n));case 9:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),d=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t,n,r,u){var f,p,b,d;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f="getAllowance",e.next=3,new s.a.state.dapp.web3.web3Instance.eth.Contract(c.abi,t);case 3:return p=e.sent,b={name:"allowance",erc20:!0,data:[r,u]},e.next=7,Object(o.b)(p,b,s.a.state.dapp.web3.account,f);case 7:return d=e.sent,e.abrupt("return",new i.a(d));case 9:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),l=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t,n,r){var u,f,i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u="getAllowance",e.next=3,new s.a.state.dapp.web3.web3Instance.eth.Contract(c.abi,t);case 3:return f=e.sent,i={name:"allowance",erc20:!0,data:[n,r]},e.next=7,Object(o.b)(f,i,s.a.state.dapp.web3.account,u);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),w=function(e,t){return s.a.state.dapp.web3.web3Instance.eth.getBalance(e).then((function(e){return new i.a(Object(u.e)(e,t))}))},m=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new s.a.state.dapp.web3.web3Instance.eth.Contract(c.abi,t);case 2:return n=e.sent,r={name:"symbol",erc20:!0,data:[]},e.next=6,Object(o.b)(n,r,s.a.state.dapp.web3.account);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t,n){var r,f,i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new s.a.state.dapp.web3.web3Instance.eth.Contract(c.abi,t);case 2:return r=e.sent,f={name:"totalSupply",erc20:!0,data:[]},e.next=6,Object(o.b)(r,f,s.a.state.dapp.web3.account);case 6:return i=e.sent,e.abrupt("return",Object(u.e)(i,n));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),j=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new s.a.state.dapp.web3.web3Instance.eth.Contract(c.abi,t);case 2:return n=e.sent,r={name:"name",erc20:!0,data:[]},e.next=6,Object(o.b)(n,r,s.a.state.dapp.web3.account);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new s.a.state.dapp.web3.web3Instance.eth.Contract(c.abi,t);case 2:return n=e.sent,r={name:"decimals",erc20:!0,data:[]},e.next=6,Object(o.b)(n,r,s.a.state.dapp.web3.account);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t,n,r,u){var f,i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new s.a.state.dapp.web3.web3Instance.eth.Contract(c.abi,t);case 2:return f=e.sent,i={name:"approve",erc20:!0,data:[r,n]},e.next=6,Object(o.d)(f,i,s.a.state.dapp.web3.account,u);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}()},"518c":function(e,t,n){},"9ce0":function(e,t,n){"use strict";n("518c")}}]);