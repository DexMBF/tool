(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-d51e5d36"],{"172e":function(e,t,a){},"33ca":function(e,t,a){"use strict";a("172e")},"3fda":function(e,t,a){"use strict";a.r(t);var n=a("53ca"),r=a("c7eb"),o=a("1da1"),s=(a("d3b7"),a("25f0"),a("3ca3"),a("ddb0"),a("99af"),a("a9e3"),a("b0c0"),a("159b"),a("05b3")),l=a("a809"),c=a("99e5"),i=a.n(c),u=a("51d2"),f=a("e95b"),d=a("ed08"),m=a("b893"),b=a("3e80"),p=a("3b66"),g=a("901e"),h=a.n(g),k=a("2f62"),v=a("3603"),y=a("a561"),x=a("c030"),w={name:"panicBuying",components:{loadPrivateKey:l.a,SwitchNetwork:y.a},computed:Object(k.d)({initial:function(e){return e.dapp.web3.initial},myAddress:function(e){return e.dapp.web3.account},networkId:function(e){return e.dapp.web3.networkId},getGasPriceCom:function(){var e=0;return this.platform.gasUsed&&(e=this.platform.gasUsed*this.global.gasPrice,e=x.utils.formatUnits(x.utils.parseUnits(e.toString(),"gwei")),e=new h.a(e).toNumber()),e}}),data:function(){return{lWidth:"120px",panicBuyingList:s.j,panicBuying:{},platform:{},tradeCoin:[],web3:null,timer:null,loading:{approve:!1,initForm:!1,saveConfig:!1,buying:!1,selling:!1,getTokenPrice:!1},dialog:{loadPrv:!1,cmdInfo:!1,switchNetwork:!1},global:{chainId:0,address:"",network:"test..",rpcNodeArray:[],symbol:"",gasPrice:0,defaultGasPrice:7,maxGas:0,marks:{},factory:"",path:[],sellPath:[],provider:null,cmdInfo:[],flag:!1,multiSenderAddress:"",nonce:0,isVip:!1},form:{rpcNode:"",privateKey:"",address:"",type:0,usdtToken:"",usdtTokenBalance:0,balance:0,contract:"",tradeToken:{},poolToken:{},minAmount:"",buyAmount:"",buyCount:"",failRetry:!1,failRetryTime:1500,resultCheck:!0,monitorSwitch:!0,delaySwitch:!1,allSell:!1,monitorTime:1e3,delayTime:0,balanceToken:0,sellAmount:"",sellCount:1,contractPrice:"",tokenName:"",tokenSymbol:"",tokenDecimals:0,time:"",deadline:300},advanced:{slippage:"",switch:!1,increaseRate:"",sellRate:""},buy:{},sell:{}}},methods:{openwin:function(){window.open("/robotTrade/scanContract","_blank")},OnFailRetrySwitch:function(e){e?(this.form.resultCheck=!1,this.form.monitorSwitch=!1):(this.form.resultCheck=!0,this.form.monitorSwitch=!0)},advancedSwitch:function(e){e&&(this.form.resultCheck=e)},loadNode:function(e){var t=this;return Object(o.a)(Object(r.a)().mark((function a(){var n;return Object(r.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=e.nodeUrl,t.web3.setProvider(new i.a.providers.HttpProvider(n)),t.global.provider=new b.a(n),t.form.rpcNode=n;case 4:case"end":return a.stop()}}),a)})))()},changeNetwork:function(){var e=this;return Object(o.a)(Object(r.a)().mark((function t(){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.dialog.switchNetwork=!0;case 1:case"end":return t.stop()}}),t)})))()},joinVip:function(){var e=this;return Object(o.a)(Object(r.a)().mark((function t(){var a,n,o;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,new e.web3.eth.Contract(v.abi,e.global.multiSenderAddress);case 3:return a=t.sent,t.next=6,a.methods.isVIP(e.form.address).call().catch((function(){return"0"}));case 6:if(n=t.sent,e.global.isVip="1"===n,"1"!==n){t.next=16;break}return t.next=11,a.methods.getTimeByCustomer(e.form.address).call();case 11:o=t.sent,e.form.time="9999999999999999"===o?"永久":Object(d.l)(o),t.next=17;break;case 16:e.form.time="普通";case 17:case"end":return t.stop()}}),t)})))()},stopReturn:function(){this.global.flag=!0},handleClose:function(){this.dialog.cmdInfo=!1,this.global.flag=!0},getPing:function(){var e=this;return Object(o.a)(Object(r.a)().mark((function t(){var a,n;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.web3){t.next=11;break}return a=Date.now(),t.next=5,e.web3.eth.getChainId();case 5:t.sent,n=e.form.rpcNode.indexOf("quiknode"),e.global.network=n>-1?Object(d.h)(1,23):Date.now()-a,e.getTokenPrice(),e.initSell();case 11:case"end":return t.stop()}}),t)})))()},getUserData:function(e){var t=e.privateKey,a=e.address;this.form.privateKey=t,this.form.address=a,this.web3.eth.accounts.wallet.clear(),this.web3.eth.accounts.wallet.add(t),this.getUserBalance(),this.joinVip()},getUserBalance:function(){var e=this;return Object(o.a)(Object(r.a)().mark((function t(){var a,n,o,s;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.web3.eth.getBalance(e.form.address);case 2:return a=t.sent,e.form.balance=e.web3.utils.fromWei(a,"ether"),t.next=7,new e.web3.eth.Contract(u.abi,e.form.usdtToken);case 7:return n=t.sent,t.next=10,n.methods.decimals().call();case 10:return o=t.sent,t.next=13,n.methods.balanceOf(e.form.address).call();case 13:s=t.sent,e.form.usdtTokenBalance=Object(d.e)(s,o);case 15:case"end":return t.stop()}}),t)})))()},approveUsdt:function(){var e=this;return Object(o.a)(Object(r.a)().mark((function t(){var a,n,o;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.form.tradeToken.address!==e.form.usdtToken){t.next=17;break}return t.next=3,new e.web3.eth.Contract(u.abi,e.form.usdtToken);case 3:return a=t.sent,t.next=6,a.methods.allowance(e.form.address,e.platform.router).call();case 6:if(!(t.sent>0)){t.next=9;break}return t.abrupt("return",!0);case 9:return t.next=11,a.methods.approve(e.platform.router,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff").estimateGas({from:e.form.address});case 11:return n=t.sent,n=parseInt(1.5*n),t.next=15,a.methods.approve(e.platform.router,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff").send({from:e.form.address,gas:n}).then((function(e){return!0})).catch((function(e){return!1}));case 15:return o=t.sent,t.abrupt("return",o);case 17:return t.abrupt("return",!0);case 18:case"end":return t.stop()}}),t)})))()},approve:function(){var e=this;return Object(o.a)(Object(r.a)().mark((function t(){var a,n,o;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.form.address){t.next=3;break}return e.$message.error("私钥信息未导入"),t.abrupt("return");case 3:if(e.form.contract){t.next=6;break}return e.$message.error("合约信息未导入"),t.abrupt("return");case 6:if(e.web3.utils.isAddress(e.form.contract)){t.next=9;break}return e.$message.error("合约地址有误"),t.abrupt("return");case 9:return t.next=11,new e.web3.eth.Contract(u.abi,e.form.contract);case 11:return a=t.sent,e.loading.approve=!0,t.next=16,a.methods.allowance(e.form.address,e.platform.router).call();case 16:if(!(t.sent>0)){t.next=22;break}return e.loading.approve=!1,e.$message.success("授权成功"),t.abrupt("return");case 22:return t.next=24,a.methods.approve(e.platform.router,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff").estimateGas({from:e.form.address});case 24:return n=t.sent,n=parseInt(1.5*n),t.next=28,a.methods.approve(e.platform.router,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff").send({from:e.form.address,gas:n}).then((function(e){return!0})).catch((function(t){return e.$message.error(t.message),!1}));case 28:o=t.sent,e.loading.approve=!1,o&&e.$message.success("授权成功");case 32:case"end":return t.stop()}}),t)})))()},buying:function(){var e=this;return Object(o.a)(Object(r.a)().mark((function t(){var a,o;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loading.buying=!0,t.next=4,e.buyValidata();case 4:if(a=t.sent,e.global.cmdInfo.push("校验信息是否成功:"+a),!a){t.next=11;break}return t.delegateYield(Object(r.a)().mark((function t(){var a,n,o,s,l,c,i,m,b,p,g,k,v,y,w,T;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.form.tradeToken.address===e.global.address,e.global.cmdInfo.push("是否是链本币下单:"+a),n=e.advanced.slippage?Object(d.d)(e.advanced.slippage,e.buy.token0.decimals):"0",o=e.form.buyCount?e.form.buyCount:1,e.global.cmdInfo.push("本次操作需要下单".concat(o,"次")),s=new x.Wallet(e.form.privateKey),e.global.cmdInfo.push("当前操作的钱包地址:".concat(s.address)),l=s.connect(e.global.provider),!e.form.minAmount){t.next=32;break}return t.next=12,new e.web3.eth.Contract(u.abi,e.buy.token1.address);case 12:c=t.sent,e.global.cmdInfo.push("判断最小流动池检测:查看流动是否大于 ".concat(e.form.minAmount)),i=e.buy.token1.decimals,m=e.buy.token0_token1.liquidityToken.address;case 16:if(!e.global.flag){t.next=18;break}return t.abrupt("return",{v:void 0});case 18:return t.next=20,c.methods.balanceOf(m).call().catch((function(e){return 0}));case 20:if(b=t.sent,b=Object(d.e)(b,i),e.global.cmdInfo.push("获取流动池余额: ".concat(b)),-1!==new h.a(b).comparedTo(e.form.minAmount)){t.next=29;break}return e.global.cmdInfo.push("当前流动池余额: ".concat(b," 小于: ").concat(e.form.minAmount)),t.next=27,new Promise((function(t){return setTimeout(t,e.form.monitorTime)}));case 27:t.next=31;break;case 29:return e.global.cmdInfo.push("当前流动池余额: ".concat(b," 大于: ").concat(e.form.minAmount)),t.abrupt("break",32);case 31:t.next=16;break;case 32:if(!e.form.delaySwitch){t.next=36;break}return e.global.cmdInfo.push("延迟开关已开启，开始延迟: ".concat(e.form.delayTime," 毫秒下单....")),t.next=36,new Promise((function(t){return setTimeout(t,e.form.delayTime)}));case 36:p=[],g=new x.Contract(e.platform.router,f.abi,l),k=0;case 39:if(!(k<o)){t.next=84;break}if(!e.global.flag){t.next=42;break}return t.abrupt("return",{v:void 0});case 42:if(!e.global.flag){t.next=46;break}return e.global.cmdInfo.push("已停止...."),t.abrupt("return",{v:void 0});case 46:if(v=Math.floor(Date.now()/1e3)+Number(e.form.deadline),e.global.cmdInfo.push("开始第".concat(k+1,"次下单操作")),y=a?x.utils.parseUnits(e.form.buyAmount,"ether"):Object(d.d)(e.form.buyAmount,e.global.route.input.decimals),e.global.cmdInfo.push("下单金额：".concat(e.form.buyAmount,"，最小可得数量：").concat(e.advanced.slippage)),w=null,!a){t.next=57;break}return t.next=54,g.swapExactETHForTokensSupportingFeeOnTransferTokens(n,e.global.path,s.address,v,{gasLimit:x.utils.hexlify(e.platform.gasUsed),gasPrice:x.utils.parseUnits(e.global.gasPrice.toString(),"gwei"),value:y,nonce:e.global.nonce}).catch((function(t){return e.global.cmdInfo.push("下单失败：".concat(t.reason)),!1}));case 54:w=t.sent,t.next=60;break;case 57:return t.next=59,g.swapExactTokensForTokensSupportingFeeOnTransferTokens(y,n,e.global.path,s.address,v,{gasLimit:x.utils.hexlify(e.platform.gasUsed),gasPrice:x.utils.parseUnits(e.global.gasPrice.toString(),"gwei"),nonce:e.global.nonce}).catch((function(t){return e.global.cmdInfo.push("下单失败：".concat(t.reason)),!1}));case 59:w=t.sent;case 60:if(!1!==w){t.next=62;break}return t.abrupt("return",{v:void 0});case 62:if(e.global.nonce++,e.global.cmdInfo.push("生成TXID："+w.hash),!e.form.resultCheck){t.next=73;break}return e.global.cmdInfo.push("开始查询状态中...."),t.next=68,w.wait().then((function(e){return p.push(e.logs[e.logs.length-1].data),!0})).catch((function(e){return!1}));case 68:return T=t.sent,e.global.cmdInfo.push(T?"成功":"失败"),t.abrupt("break",81);case 73:if(!e.form.failRetry){t.next=78;break}return e.global.cmdInfo.push("烧区块模式，开始延迟: ".concat(e.form.failRetryTime," 毫秒下单....")),t.next=77,new Promise((function(t){return setTimeout(t,e.form.failRetryTime)}));case 77:return t.abrupt("continue",42);case 78:return t.abrupt("break",81);case 79:t.next=42;break;case 81:k++,t.next=39;break;case 84:e.advanced.switch&&e.calcPrice(p);case 85:case"end":return t.stop()}}),t)}))(),"t0",8);case 8:if(o=t.t0,"object"!==Object(n.a)(o)){t.next=11;break}return t.abrupt("return",o.v);case 11:e.global.cmdInfo.push("结束操作");case 12:return t.prev=12,e.loading.buying=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,,12,15]])})))()},getBnbPrice:function(){var e=this;return Object(o.a)(Object(r.a)().mark((function t(){var a,n,o,s,l;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.Fetcher.fetchTokenData(e.global.chainId,e.panicBuying.poolToken[0].address,e.global.provider);case 2:return a=t.sent,t.next=5,p.Fetcher.fetchTokenData(e.global.chainId,e.panicBuying.poolToken[1].address,e.global.provider);case 5:return n=t.sent,o=new p.TokenAmount(a,x.utils.parseEther("1")),t.next=9,p.Fetcher.fetchPairData(a,n,e.global.provider,e.platform.name).catch((function(e){return null}));case 9:return s=t.sent,l=s.getOutputAmount(o),t.abrupt("return",x.utils.formatEther(l[0].raw.toString()));case 12:case"end":return t.stop()}}),t)})))()},sellValidata:function(){var e=this;return Object(o.a)(Object(r.a)().mark((function t(){var a,n,o,s,l,c,i,u,f,m;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.dialog.cmdInfo=!0,e.global.flag=!1,e.global.cmdInfo=[],e.global.sellPath=[],e.global.cmdInfo.push("初始化信息"),e.global.cmdInfo.push("校验信息"),e.form.address){t.next=10;break}return e.$message.error("私钥信息未导入"),e.global.cmdInfo.push("私钥信息未导入"),t.abrupt("return",!1);case 10:if(e.form.contract){t.next=14;break}return e.$message.error("合约信息未导入"),e.global.cmdInfo.push("合约信息未导入"),t.abrupt("return",!1);case 14:if(e.web3.utils.isAddress(e.form.contract)){t.next=18;break}return e.$message.error("合约地址有误"),e.global.cmdInfo.push("合约地址有误"),t.abrupt("return",!1);case 18:if(e.form.balanceToken){t.next=22;break}return e.$message.error("余额不足"),e.global.cmdInfo.push("余额不足"),t.abrupt("return",!1);case 22:if(e.form.sellAmount&&0!==e.form.sellAmount){t.next=26;break}return e.$message.error("出售数量不能为空"),e.global.cmdInfo.push("出售数量不能为空"),t.abrupt("return",!1);case 26:return t.next=28,e.approve();case 28:if(a=e.form.sellCount?e.form.sellCount:1,1!==new h.a(e.form.sellAmount).multipliedBy(a).comparedTo(e.form.balanceToken)){t.next=34;break}return e.$message.error("出售数量不能超出总余额"),e.global.cmdInfo.push("出售数量不能超出总余额"),t.abrupt("return",!1);case 34:return t.next=36,e.initSell();case 36:return t.next=38,p.Fetcher.fetchTokenData(e.global.chainId,e.form.contract,e.global.provider);case 38:return n=t.sent,o=null,s=null,l=[],t.next=44,e.getBnbPrice();case 44:c=t.sent,i=0;case 47:if(!(i<e.panicBuying.poolToken.length-1)){t.next=58;break}return t.next=50,p.Fetcher.fetchTokenData(e.global.chainId,e.panicBuying.poolToken[i].address,e.global.provider);case 50:return o=t.sent,t.next=53,p.Fetcher.fetchPairData(n,o,e.global.provider,e.platform.name).catch((function(e){return null}));case 53:(s=t.sent)&&(u=s.reserveOf(o).raw.toString(),f=x.utils.formatEther(u),l.push({address:e.panicBuying.poolToken[i].address,price:0===i?new h.a(f).multipliedBy(c).toNumber():new h.a(f).toNumber()}));case 55:i++,t.next=47;break;case 58:if(0!==l.length){t.next=62;break}return e.$message.error("未能检测到Token的流动性池子，请检测合约是否正确"),e.global.cmdInfo.push("未能检测到Token的流动性池子，请检测合约是否正确"),t.abrupt("return",!1);case 62:return e.global.cmdInfo.push("检测到Token的流动性池子数量=".concat(l.length,",选择最优池子")),m=Object(d.j)(l,"price"),o=e.panicBuying.poolToken[m],e.global.sellPath.push(n.address),e.global.sellPath.push(o.address),o.address.toUpperCase()!==e.form.tradeToken.address.toUpperCase()&&e.global.sellPath.push(e.form.tradeToken.address),t.abrupt("return",!0);case 70:case"end":return t.stop()}}),t)})))()},selling:function(){var e=this;return Object(o.a)(Object(r.a)().mark((function t(){var a,n,o,s,l,c,i,u,m,b,p;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loading.selling=!0,t.next=4,e.sellValidata();case 4:if(a=t.sent,e.global.cmdInfo.push("校验信息是否成功:"+a),!a){t.next=39;break}n=e.form.tradeToken.address===e.global.address,e.global.cmdInfo.push("初始化操作"),o=e.advanced.slippage?Object(d.d)(e.advanced.slippage):"0",e.global.cmdInfo.push("最小获得数量："+e.advanced.slippage),s=e.form.sellCount?e.form.sellCount:1,e.global.cmdInfo.push("本次操作需要下单".concat(s,"次")),l=new x.Wallet(e.form.privateKey),e.global.cmdInfo.push("当前操作的钱包地址:".concat(l.address)),c=l.connect(e.global.provider),i=new x.Contract(e.platform.router,f.abi,c),u=0;case 19:if(!(u<s)){t.next=38;break}if(!e.global.flag){t.next=22;break}return t.abrupt("return");case 22:if(m=Math.floor(Date.now()/1e3)+Number(e.form.deadline),b=Object(d.d)(e.form.sellAmount,e.form.tokenDecimals),p=null,!n){t.next=31;break}return t.next=28,i.swapExactTokensForETHSupportingFeeOnTransferTokens(b,o,e.global.sellPath,l.address,m,{gasLimit:x.utils.hexlify(e.platform.gasUsed),gasPrice:x.utils.parseUnits(e.global.gasPrice.toString(),"gwei")});case 28:p=t.sent,t.next=34;break;case 31:return t.next=33,i.swapExactTokensForTokensSupportingFeeOnTransferTokens(b,o,e.global.sellPath,l.address,m,{gasLimit:x.utils.hexlify(e.platform.gasUsed),gasPrice:x.utils.parseUnits(e.global.gasPrice.toString(),"gwei")});case 33:p=t.sent;case 34:e.global.cmdInfo.push("生成TXID："+p.hash);case 35:u++,t.next=19;break;case 38:e.loading.selling=!1;case 39:return t.prev=39,e.loading.selling=!1,t.finish(39);case 42:case"end":return t.stop()}}),t,null,[[0,,39,42]])})))()},calcPrice:function(e){var t=this;return Object(o.a)(Object(r.a)().mark((function a(){return Object(r.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.global.cmdInfo.push("计算此次交易得到的Tokens数量"),t.buy.totalAmount=new h.a(0),t.buy.buyAmount=new h.a(0),e.forEach((function(e){var a=Object(m.q)(e),n=t.web3.utils.hexToNumberString("0x"+a[2]);"0"===n&&(n=t.web3.utils.hexToNumberString("0x"+a[3])),t.buy.totalAmount=t.buy.totalAmount.plus(x.utils.formatUnits(n,t.buy.token0.decimals)),t.buy.buyAmount=t.buy.buyAmount.plus(t.form.buyAmount)})),!t.buy.buyAmount.isZero()){a.next=7;break}return t.global.cmdInfo.push(t.buy.buyAmount.toString()),a.abrupt("return");case 7:t.global.cmdInfo.push("总共花费:".concat(t.buy.buyAmount.toString()," ").concat(t.form.tradeToken.symbol,",购买了:").concat(t.buy.totalAmount.toString())),t.form.tradeToken.address===t.form.usdtToken?(t.buy.even=t.buy.buyAmount.dividedBy(t.buy.totalAmount),t.global.cmdInfo.push("当前买入的平均价格:".concat(t.buy.even.toNumber()," /USDT"))):(t.buy.even=t.buy.buyAmount.dividedBy(t.buy.totalAmount),t.global.cmdInfo.push("当前买入的平均价格:".concat(t.buy.even.toNumber()," /").concat(t.global.symbol))),t.advanced.switch&&t.intellectOut();case 10:case"end":return a.stop()}}),a)})))()},allSell:function(){var e=this;return Object(o.a)(Object(r.a)().mark((function t(){var a,n,o,s,l,c,i,m,b,g,h,k,v;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.global.cmdInfo.push("开始一键卖出中...."),e.form.allSell=!0,a=e.form.tradeToken.address===e.global.address,n=null,o=null,e.form.tradeToken.address.toUpperCase()===e.buy.token1.address.toUpperCase()){t.next=15;break}return t.next=9,p.Fetcher.fetchTokenData(e.global.chainId,e.form.tradeToken.address,e.global.provider);case 9:return n=t.sent,t.next=13,p.Fetcher.fetchPairData(n,e.buy.token1,e.global.provider,e.platform.name).catch((function(e){return null}));case 13:o=t.sent;case 15:return s=[],t.next=19,p.Fetcher.fetchPairData(e.buy.token0,e.buy.token1,e.global.provider,e.platform.name).catch((function(e){return null}));case 19:if(l=t.sent,s.push(e.buy.token0.address),null===o){t.next=30;break}return t.next=24,p.Fetcher.fetchTokenData(e.global.chainId,e.form.tradeToken.address,e.global.provider);case 24:n=t.sent,s.push(e.buy.token1.address),s.push(n.address),new p.Route([l,o],e.buy.token0,n),t.next=32;break;case 30:s.push(e.buy.token1.address),new p.Route([l],e.buy.token0,e.buy.token1);case 32:return t.next=34,new e.web3.eth.Contract(u.abi,e.buy.token0.address);case 34:return c=t.sent,t.next=37,c.methods.balanceOf(e.form.address).call();case 37:if(i=t.sent,e.global.cmdInfo.push("当前钱包可用余额:".concat(Object(d.e)(i,e.buy.token0.decimals))),0!==i&&"0"!==i){t.next=42;break}return e.global.cmdInfo.push("余额不足无法卖出"),t.abrupt("return");case 42:if(m=new x.Wallet(e.form.privateKey),e.global.cmdInfo.push("当前操作的钱包地址:".concat(m.address)),b=m.connect(e.global.provider),g=new x.Contract(e.platform.router,f.abi,b),h=Math.floor(Date.now()/1e3)+1200,k=null,!a){t.next=54;break}return t.next=51,g.swapExactTokensForETHSupportingFeeOnTransferTokens(i,"0",s,m.address,h,{gasLimit:x.utils.hexlify(e.platform.gasUsed),gasPrice:x.utils.parseUnits(e.global.defaultGasPrice.toString(),"gwei"),nonce:e.global.nonce});case 51:k=t.sent,t.next=57;break;case 54:return t.next=56,g.swapExactTokensForTokensSupportingFeeOnTransferTokens(i,"0",s,m.address,h,{gasLimit:x.utils.hexlify(e.platform.gasUsed),gasPrice:x.utils.parseUnits(e.global.defaultGasPrice.toString(),"gwei"),nonce:e.global.nonce});case 56:k=t.sent;case 57:return e.global.nonce++,e.global.cmdInfo.push("TXID :".concat(k.hash,"，查询状态是否成功...")),t.next=61,k.wait().then((function(e){return!0})).catch((function(e){return!1}));case 61:v=t.sent,e.global.cmdInfo.push(v?"成功":"失败，请手动出售");case 63:case"end":return t.stop()}}),t)})))()},intellectOut:function(){var e=this;return Object(o.a)(Object(r.a)().mark((function t(){var a,n,o,s,l,c,i,u,m,b,g,k,v,y,w,T,I,C,O;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.global.cmdInfo.push("智能出本计算中"),a=e.buy.even.multipliedBy(1+e.advanced.increaseRate/100).toString(),n=e.buy.totalAmount.multipliedBy(e.advanced.sellRate/100).toString(),e.global.cmdInfo.push("当前买入的平均价格:".concat(e.buy.even.toNumber()," /").concat(e.global.symbol)),e.global.cmdInfo.push("上涨百分之".concat(e.advanced.increaseRate,"≈").concat(a)),e.global.cmdInfo.push("出售百分之".concat(e.advanced.sellRate,"≈").concat(n)),o=null,s=null,e.form.tradeToken.address.toUpperCase()===e.buy.token1.address.toUpperCase()){t.next=18;break}return t.next=12,p.Fetcher.fetchTokenData(e.global.chainId,e.form.tradeToken.address,e.global.provider);case 12:return o=t.sent,t.next=16,p.Fetcher.fetchPairData(o,e.buy.token1,e.global.provider,e.platform.name).catch((function(e){return null}));case 16:s=t.sent;case 18:return l=[],c=null,t.next=23,p.Fetcher.fetchPairData(e.buy.token0,e.buy.token1,e.global.provider,e.platform.name).catch((function(e){return null}));case 23:if(i=t.sent,l.push(e.buy.token0.address),null===s){t.next=35;break}return t.next=28,p.Fetcher.fetchTokenData(e.global.chainId,e.form.tradeToken.address,e.global.provider);case 28:g=t.sent,l.push(e.buy.token1.address),l.push(g.address),c=new p.Route([i,s],e.buy.token0,g),t.next=37;break;case 35:l.push(e.buy.token1.address),c=new p.Route([i],e.buy.token0,e.buy.token1);case 37:if(u=Object(d.d)(e.buy.totalAmount,e.buy.token0.decimals),m=Object(d.d)(n,e.buy.token0.decimals),b=new p.Percent("0","100"),g=new p.Trade(c,new p.TokenAmount(e.buy.token0,u),p.TradeType.EXACT_INPUT),k=Object(d.e)(g.minimumAmountOut(b).raw.toString()),e.global.cmdInfo.push("全部出售可获得：".concat(k)),e.global.cmdInfo.push("当前价格：".concat(c.midPrice.toSignificant())),!e.global.flag){t.next=48;break}return e.global.cmdInfo.push("停止"),t.abrupt("return");case 48:if(!(new h.a(c.midPrice.toSignificant()).comparedTo(a)>-1)){t.next=72;break}if(v=new x.Wallet(e.form.privateKey),e.global.cmdInfo.push("当前操作的钱包地址:".concat(v.address)),y=v.connect(e.global.provider),w=new x.Contract(e.platform.router,f.abi,y),T=Math.floor(Date.now()/1e3)+Number(e.form.deadline),I=e.form.tradeToken.address===e.global.address,C=null,!I){t.next=62;break}return t.next=59,w.swapExactTokensForETHSupportingFeeOnTransferTokens(m,"0",l,v.address,T,{gasLimit:x.utils.hexlify(e.platform.gasUsed),gasPrice:x.utils.parseUnits(e.global.defaultGasPrice.toString(),"gwei"),nonce:e.global.nonce});case 59:C=t.sent,t.next=65;break;case 62:return t.next=64,w.swapExactTokensForTokensSupportingFeeOnTransferTokens(m,"0",l,v.address,T,{gasLimit:x.utils.hexlify(e.platform.gasUsed),gasPrice:x.utils.parseUnits(e.global.defaultGasPrice.toString(),"gwei"),nonce:e.global.nonce});case 64:C=t.sent;case 65:return e.global.nonce++,e.global.cmdInfo.push("出售完成，TXID :".concat(C.hash,"，查询状态是否成功...")),t.next=69,C.wait().then((function(e){return!0})).catch((function(e){return!1}));case 69:return O=t.sent,e.global.cmdInfo.push(O?"成功":"失败，请手动出售"),t.abrupt("return");case 72:return t.next=74,new Promise((function(t){return setTimeout(t,e.form.monitorTime)}));case 74:t.next=18;break;case 76:case"end":return t.stop()}}),t)})))()},getTokenPrice:function(){var e=this;return Object(o.a)(Object(r.a)().mark((function t(){var a,n,o,s,l,c,i;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.form.contract&&1===e.form.type){t.next=2;break}return t.abrupt("return");case 2:return e.loading.getTokenPrice=!0,t.next=5,p.Fetcher.fetchTokenData(e.global.chainId,e.form.contract,e.global.provider);case 5:a=t.sent,n=null,o=null,s=0;case 9:if(!(s<e.panicBuying.poolToken.length-1)){t.next=22;break}return t.next=12,p.Fetcher.fetchTokenData(e.global.chainId,e.panicBuying.poolToken[s].address,e.global.provider);case 12:return n=t.sent,t.next=15,p.Fetcher.fetchPairData(a,n,e.global.provider,e.platform.name).catch((function(e){return null}));case 15:if(!(o=t.sent)){t.next=19;break}return t.abrupt("break",22);case 19:s++,t.next=9;break;case 22:if(!o){t.next=42;break}if(l=null,n.address.toUpperCase()===e.form.usdtToken.toUpperCase()){t.next=29;break}return t.next=28,p.Fetcher.fetchTokenData(e.global.chainId,e.form.usdtToken,e.global.provider);case 28:l=t.sent;case 29:if(c=null,!l){t.next=37;break}return t.next=33,p.Fetcher.fetchPairData(n,l,e.global.provider,e.platform.name).catch((function(e){return null}));case 33:i=t.sent,c=new p.Route([o,i],a,l),t.next=38;break;case 37:c=new p.Route([o],a,n);case 38:e.form.contractPrice=c.midPrice.toSignificant(),t.next=43;break;case 42:e.$message.error("未能检测到Token的流动性池子，请检测合约是否正确");case 43:e.loading.getTokenPrice=!1;case 44:case"end":return t.stop()}}),t)})))()},saveConfig:function(){var e=this;return Object(o.a)(Object(r.a)().mark((function t(){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading.saveConfig=!0,t.next=3,e.buyValidata();case 3:t.sent&&e.$message.success("保存成功！"),e.loading.saveConfig=!1;case 6:case"end":return t.stop()}}),t)})))()},buyValidata:function(){var e=this;return Object(o.a)(Object(r.a)().mark((function t(){var a,n,o,s,l,c,i,f,d,m,b,g,k;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.dialog.cmdInfo=!0,e.global.flag=!1,e.form.reset=!1,e.global.cmdInfo=[],e.global.cmdInfo.push("初始化信息"),e.global.path=[],e.getUserBalance(),e.global.cmdInfo.push("校验信息"),e.form.address){t.next=12;break}return e.$message.error("私钥信息未导入"),e.global.cmdInfo.push("私钥信息未导入"),t.abrupt("return",!1);case 12:if(e.form.contract){t.next=16;break}return e.$message.error("合约信息未导入"),e.global.cmdInfo.push("合约信息未导入"),t.abrupt("return",!1);case 16:if(e.web3.utils.isAddress(e.form.contract)){t.next=20;break}return e.$message.error("合约地址有误"),e.global.cmdInfo.push("合约地址有误"),t.abrupt("return",!1);case 20:if(e.form.buyAmount){t.next=24;break}return e.$message.error("购买金额不能为空"),e.global.cmdInfo.push("购买金额不能为空"),t.abrupt("return",!1);case 24:if(!e.advanced.switch){t.next=33;break}if(e.advanced.increaseRate){t.next=29;break}return e.$message.error("上涨比率不能为空"),e.global.cmdInfo.push("上涨比率不能为空"),t.abrupt("return",!1);case 29:if(e.advanced.sellRate){t.next=33;break}return e.$message.error("上涨比率不能为空"),e.global.cmdInfo.push("上涨比率不能为空"),t.abrupt("return",!1);case 33:if(e.global.cmdInfo.push("检测余额是否足够"),a=e.form.buyCount?e.form.buyCount:1,n=e.platform.gasUsed*e.global.gasPrice,n=x.utils.formatUnits(x.utils.parseUnits(n.toString(),"gwei")),n=new h.a(n).multipliedBy(a).toNumber(),e.global.cmdInfo.push("本次抢购操作需要手续费：".concat(n," ").concat(e.global.symbol)),o=Number(e.form.buyAmount)*a,e.form.tradeToken.symbol!==e.global.symbol){t.next=49;break}if(e.global.cmdInfo.push("本次抢购操作总共需要花费：".concat(o+n," ").concat(e.global.symbol)),1!==new h.a(o+n).comparedTo(e.form.balance)){t.next=47;break}return s="".concat(e.global.symbol," 余额不足，本次操作需要大约≈").concat(o+n,"，当前余额：").concat(e.form.balance),e.$message.error(s),e.global.cmdInfo.push(s),t.abrupt("return",!1);case 47:t.next=59;break;case 49:if(1!==new h.a(n).comparedTo(e.form.balance)){t.next=54;break}return l="".concat(e.global.symbol," 余额不足，本次操作需要大约≈").concat(n,"，当前余额：").concat(e.form.balance),e.$message.error(l),e.global.cmdInfo.push(l),t.abrupt("return",!1);case 54:if(1!==new h.a(o).comparedTo(e.form.usdtTokenBalance)){t.next=59;break}return c="USDT 余额不足，本次操作需要大约≈".concat(o,"，当前余额：").concat(e.form.usdtTokenBalance),e.$message.error(c),e.global.cmdInfo.push(c),t.abrupt("return",!1);case 59:return t.next=61,e.approveUsdt();case 61:if(t.sent){t.next=66;break}return e.global.cmdInfo.push("USDT授权失败,请检测网络或手续费是否足够"),t.abrupt("return",!1);case 66:return t.next=68,e.web3.eth.getTransactionCount(e.form.address).catch((function(){return!1}));case 68:if(e.global.nonce=t.sent,e.global.nonce){t.next=72;break}return e.global.cmdInfo.push("获取nonce随机数失败"),t.abrupt("return",!1);case 72:return e.global.cmdInfo.push("当前 nonce 值：".concat(e.global.nonce,"，请勿操作钱包.")),t.next=75,new e.web3.eth.Contract(u.abi,e.form.contract);case 75:return i=t.sent,t.next=78,i.methods.symbol().call().catch((function(e){return null}));case 78:return f=t.sent,t.next=81,i.methods.name().call().catch((function(e){return null}));case 81:return d=t.sent,e.global.cmdInfo.push("开始检测流动池："),t.next=85,p.Fetcher.fetchTokenData(e.global.chainId,e.form.contract,e.global.provider,f,d);case 85:e.buy.token0=t.sent,m=!1;case 87:if(!e.global.flag){t.next=89;break}return t.abrupt("return",!1);case 89:if("-1"!==e.form.poolToken.address){t.next=108;break}b=0;case 91:if(!(b<e.panicBuying.poolToken.length-1)){t.next=106;break}return t.next=94,p.Fetcher.fetchTokenData(e.global.chainId,e.panicBuying.poolToken[b].address,e.global.provider);case 94:return e.buy.token1=t.sent,t.next=97,p.Fetcher.fetchPairData(e.buy.token0,e.buy.token1,e.global.provider,e.platform.name).catch((function(e){return null}));case 97:if(e.buy.token0_token1=t.sent,!e.buy.token0_token1){t.next=102;break}return e.global.cmdInfo.push("开始检测：".concat(f," - ").concat(e.panicBuying.poolToken[b].name," 交易对【存在】")),m=!0,t.abrupt("break",106);case 102:e.global.cmdInfo.push("开始检测：".concat(f," - ").concat(e.panicBuying.poolToken[b].name," 交易对【不存在】"));case 103:b++,t.next=91;break;case 106:t.next=116;break;case 108:return t.next=110,p.Fetcher.fetchTokenData(e.global.chainId,e.form.poolToken.address,e.global.provider);case 110:return e.buy.token1=t.sent,t.next=113,p.Fetcher.fetchPairData(e.buy.token0,e.buy.token1,e.global.provider,e.platform.name).catch((function(e){return null}));case 113:e.buy.token0_token1=t.sent,e.global.cmdInfo.push("开始检测：".concat(f," - ").concat(e.form.poolToken.name," 交易对").concat(e.buy.token0_token1?"【存在】":"【不存在】")),e.buy.token0_token1&&(m=!0);case 116:if(!m){t.next=118;break}return t.abrupt("break",122);case 118:if(!e.form.monitorSwitch){t.next=121;break}return t.next=121,new Promise((function(t){return setTimeout(t,e.form.monitorTime)}));case 121:if(e.form.monitorSwitch){t.next=87;break}case 122:if(null!==e.buy.token0_token1){t.next=126;break}return e.$message.error("未能匹配到流动池交易对"),e.global.cmdInfo.push("未能匹配到流动池交易对"),t.abrupt("return",!1);case 126:if(g=null,k=null,e.form.tradeToken.address.toUpperCase()===e.buy.token1.address.toUpperCase()){t.next=135;break}return t.next=131,p.Fetcher.fetchTokenData(e.global.chainId,e.form.tradeToken.address,e.global.provider);case 131:return k=t.sent,t.next=134,p.Fetcher.fetchPairData(k,e.buy.token1,e.global.provider,e.platform.name).catch((function(e){return null}));case 134:g=t.sent;case 135:return g&&k?(e.global.path.push(k.address),e.global.route=new p.Route([g,e.buy.token0_token1],k)):e.global.route=new p.Route([e.buy.token0_token1],e.buy.token1),e.global.path.push(e.buy.token1.address),e.global.path.push(e.buy.token0.address),t.abrupt("return",!0);case 139:case"end":return t.stop()}}),t)})))()},changeType:function(e){var t=this;return Object(o.a)(Object(r.a)().mark((function a(){return Object(r.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(1!==e){a.next=10;break}if(t.global.isVip){a.next=4;break}return t.$message.error("无权限使用，请联系电报管理员"),a.abrupt("return");case 4:return t.loading.initForm=!0,a.next=7,t.initSell();case 7:return a.next=9,t.getTokenPrice();case 9:t.loading.initForm=!1;case 10:t.form.type=e;case 11:case"end":return a.stop()}}),a)})))()},Max:function(){this.form.sellAmount=this.form.balanceToken},changeContract:function(){var e=this;return Object(o.a)(Object(r.a)().mark((function t(){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==e.form.type){t.next=6;break}return e.loading.initForm=!0,t.next=5,e.initSell();case 5:e.loading.initForm=!1;case 6:case"end":return t.stop()}}),t)})))()},initSell:function(){var e=this;return Object(o.a)(Object(r.a)().mark((function t(){var a,n;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.form.contract){t.next=21;break}return t.next=3,new e.web3.eth.Contract(u.abi,e.form.contract);case 3:return a=t.sent,t.next=6,a.methods.symbol().call().catch((function(e){return null}));case 6:return e.form.tokenSymbol=t.sent,t.next=9,a.methods.name().call().catch((function(e){return null}));case 9:return e.form.tokenName=t.sent,t.next=12,a.methods.decimals().call().catch((function(e){return null}));case 12:if(e.form.tokenDecimals=t.sent,null!==e.form.tokenDecimals){t.next=16;break}return e.$message.error("合约地址有误"),t.abrupt("return");case 16:if(!e.form.address){t.next=21;break}return t.next=19,a.methods.balanceOf(e.form.address).call();case 19:n=t.sent,e.form.balanceToken=Object(d.e)(n,e.form.tokenDecimals);case 21:case"end":return t.stop()}}),t)})))()},onSelectChain:function(e){var t=this;return Object(o.a)(Object(r.a)().mark((function a(){return Object(r.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.chainId===t.panicBuying.chainId){a.next=9;break}return t.loading.initForm=!0,t.panicBuying=e,t.platform=e.platform[0],t.reset(),a.next=8,t.initialData();case 8:t.loading.initForm=!1;case 9:case"end":return a.stop()}}),a)})))()},onSelectPlatform:function(e){this.platform=e},reset:function(){this.global.path=[],this.global.network="test..",this.form.privateKey="",this.form.address="",this.form.balance=0,this.form.usdtTokenBalance=0,this.form.type=0,this.form.contract="",this.form.minAmount="",this.form.buyAmount="",this.form.buyCount="",this.form.allSell=!1,this.advanced.slippage="",this.advanced.switch=!1,this.advanced.increaseRate="",this.advanced.sellRate=""},initialData:function(){var e=this;return Object(o.a)(Object(r.a)().mark((function t(){var a,n,o;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.form.rpcNode=e.panicBuying.rpcNode,e.form.usdtToken=e.panicBuying.usdtToken,e.form.tradeTokenAddress=e.panicBuying.symbol,e.form.poolTokenAddress=e.panicBuying.symbol,e.global.rpcNodeArray=e.panicBuying.rpcNodeArray,e.global.symbol=e.panicBuying.symbol,e.global.chainId=e.panicBuying.chainId,e.global.address=e.panicBuying.address,e.tradeCoin=[],e.tradeCoin.push({symbol:e.panicBuying.symbol,address:e.panicBuying.address}),e.tradeCoin.push({symbol:"USDT",address:e.panicBuying.usdtToken}),e.form.tradeToken=e.tradeCoin[0],e.form.poolToken=e.panicBuying.poolToken[0],e.global.gasPrice=e.panicBuying.gasPrice,e.global.maxGas=e.panicBuying.maxGas,e.web3=new i.a(new i.a.providers.HttpProvider(e.form.rpcNode)),e.global.provider=new b.a(e.form.rpcNode),t.next=19,e.web3.eth.getGasPrice();case 19:return a=t.sent,a=e.web3.utils.fromWei(a,"gwei"),e.global.gasPrice=Math.ceil(1.3*a),e.global.defaultGasPrice=Math.ceil(1.3*a),e.global.marks[e.global.gasPrice]=e.global.gasPrice,e.getPing(),e.timer&&clearInterval(e.timer),e.timer=setInterval(e.getPing,3e4),t.next=29,new e.web3.eth.Contract(f.abi,e.platform.router);case 29:return n=t.sent,t.next=32,n.methods.factory().call();case 32:e.global.factory=t.sent,o=Object(m.i)(e.global.chainId),e.global.multiSenderAddress=o.multiSenderAddress;case 35:case"end":return t.stop()}}),t)})))()}},watch:{"global.cmdInfo":function(e,t){document.getElementsByClassName("cmdInfo")[0]&&(document.getElementsByClassName("cmdInfo")[0].scrollTop=3e4),this.global.cmdInfo.length>200&&(this.global.cmdInfo=[])}},created:function(){var e=this;return Object(o.a)(Object(r.a)().mark((function t(){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return document.body.clientWidth<640&&(e.lWidth=""),e.panicBuying=s.j[0],e.platform=s.j[0].platform[0],e.loading.initForm=!0,t.next=6,e.initialData();case 6:e.loading.initForm=!1;case 7:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){clearInterval(this.timer)}},T=w,I=(a("33ca"),a("2877")),C=Object(I.a)(T,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("loadPrivateKey",{attrs:{show:e.dialog.loadPrv,web3:e.web3},on:{close:function(t){e.dialog.loadPrv=!1},getUserData:e.getUserData}}),a("SwitchNetwork",{attrs:{show:e.dialog.switchNetwork},on:{close:function(t){e.dialog.switchNetwork=!1},loadNode:e.loadNode}}),a("el-card",{staticClass:"box-card panicBuying"},[a("span",[e._v("链")]),a("div",{staticClass:"chain"},e._l(e.panicBuyingList.filter((function(e){return e.panicBuying})),(function(t){return a("div",{class:t.chainId===e.panicBuying.chainId?"active":"",on:{click:function(a){return e.onSelectChain(t)}}},[e._v(" "+e._s(t.chainName)+" ")])})),0),a("span",[e._v("交易所")]),a("div",{staticClass:"platform"},e._l(e.panicBuying.platform.filter((function(e){return e.panic})),(function(t){return a("div",{class:e.platform.router===t.router?"active":"",on:{click:function(a){return e.onSelectPlatform(t)}}},[a("img",{attrs:{width:"20",height:"20",src:t.icon}}),e._v(e._s(t.name)+" "),t.vip?a("svg-icon",{staticClass:"vips",attrs:{"icon-class":"vips"}}):e._e()],1)})),0)]),a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.initForm,expression:"loading.initForm"}],ref:"form",attrs:{model:e.form,"label-width":e.lWidth}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"rpcNode"},[a("span",[e._v("节点："+e._s(e.form.rpcNode))]),a("span",[e._v("速度："+e._s(e.global.network)+"ms")]),a("el-button",{on:{click:e.changeNetwork}},[e._v("切换节点")])],1)]),a("el-card",{staticClass:"box-card"},[a("el-form-item",{attrs:{label:"钱包地址:"}},[a("el-input",{attrs:{disabled:"",placeholder:"请载入私钥获取地址"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}},[a("template",{slot:"append"},[a("el-button",{on:{click:function(t){e.dialog.loadPrv=!0}}},[e._v("载入私钥")])],1)],2),a("el-tag",{attrs:{type:"danger"}},[e._v("强烈推荐使用小额资产的小钱包进行抢币,需要私钥是为了省去确认操作，直接实现快速自动买卖.")]),a("el-tag",[e._v("本程序完全本地运行,不会上传私钥到服务器,欢迎监督检测.")])],1),a("el-form-item",{attrs:{label:"钱包余额:"}},[a("span",[e._v(e._s(e.form.balance)+" "+e._s(e.global.symbol))]),a("br"),a("span",[e._v(e._s(e.form.usdtTokenBalance)+" USDT")]),a("br"),a("span",[e._v("到期时间："+e._s(e.form.time))]),a("br")])],1),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"bsBtn"},[a("el-button",{staticClass:"buyBtn",attrs:{type:"success",size:"medium",icon:0===e.form.type?"el-icon-check":""},on:{click:function(t){return e.changeType(0)}}},[e._v("买入")]),a("el-button",{staticClass:"sellBtn",attrs:{type:"danger",size:"medium",icon:1===e.form.type?"el-icon-check":""},on:{click:function(t){return e.changeType(1)}}},[e._v("卖出")])],1),a("el-form-item",{attrs:{label:"交易币种"}},[a("el-radio-group",{model:{value:e.form.tradeToken,callback:function(t){e.$set(e.form,"tradeToken",t)},expression:"form.tradeToken"}},e._l(e.tradeCoin,(function(t,n){return a("el-radio",{key:n,attrs:{label:t}},[e._v(e._s(t.symbol))])})),1)],1),a("el-form-item",{attrs:{label:"合约"}},[a("el-input",{attrs:{placeholder:"请输入合约地址"},on:{change:function(t){return e.changeContract()}},model:{value:e.form.contract,callback:function(t){e.$set(e.form,"contract",t)},expression:"form.contract"}},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.approve,expression:"loading.approve"}],attrs:{slot:"append"},on:{click:e.approve},slot:"append"},[e._v("提前授权")])],1)],1),a("el-form-item",{attrs:{label:"流动池"}},[a("el-radio-group",{model:{value:e.form.poolToken,callback:function(t){e.$set(e.form,"poolToken",t)},expression:"form.poolToken"}},e._l(e.panicBuying.poolToken,(function(t,n){return a("el-radio",{key:n,attrs:{label:t}},[e._v(e._s(t.name))])})),1),0===e.form.type&&"-1"===e.form.poolToken.address?a("el-tag",{attrs:{type:"warning"}},[e._v("自动检测请设置好最小流动池大小防止买入私人池子")]):e._e()],1),0===e.form.type?a("el-form-item",{attrs:{label:"流动池最小数量"}},[a("el-input",{attrs:{placeholder:"不填写默认0，不进行检测"},model:{value:e.form.minAmount,callback:function(t){e.$set(e.form,"minAmount",t)},expression:"form.minAmount"}},[a("template",{slot:"append"},[e._v(e._s(e.form.poolToken.name))])],2)],1):e._e(),1===e.form.type?a("el-form-item",{attrs:{label:"余额"}},[a("el-input",{model:{value:e.form.balanceToken,callback:function(t){e.$set(e.form,"balanceToken",t)},expression:"form.balanceToken"}},[a("template",{slot:"append"},[e._v(e._s(e.form.tokenName))])],2)],1):e._e(),0===e.form.type?a("div",{staticClass:"buyAmount",staticStyle:{display:"flex"}},[a("el-form-item",{attrs:{label:"金额"}},[a("el-input",{attrs:{placeholder:"请输入买入金额"},model:{value:e.form.buyAmount,callback:function(t){e.$set(e.form,"buyAmount",t)},expression:"form.buyAmount"}},[a("template",{slot:"append"},[e._v(e._s(e.form.tradeToken.symbol))])],2)],1),a("el-form-item",{attrs:{label:"次数"}},[a("el-input",{attrs:{placeholder:"请输入买入次数，默认1"},model:{value:e.form.buyCount,callback:function(t){e.$set(e.form,"buyCount",t)},expression:"form.buyCount"}},[a("template",{slot:"append"},[e._v("次")])],2)],1)],1):e._e(),1===e.form.type?a("div",{staticClass:"buyAmount",staticStyle:{display:"flex"}},[a("el-form-item",{attrs:{label:"数量"}},[a("el-input",{attrs:{placeholder:"请输入卖出数量"},model:{value:e.form.sellAmount,callback:function(t){e.$set(e.form,"sellAmount",t)},expression:"form.sellAmount"}},[a("template",{slot:"append"},[a("el-button",{on:{click:function(t){return e.Max()}}},[e._v("全部出售")])],1)],2)],1),a("el-form-item",{attrs:{label:"次数"}},[a("el-input",{attrs:{placeholder:"请输入卖出次数，默认1"},model:{value:e.form.sellCount,callback:function(t){e.$set(e.form,"sellCount",t)},expression:"form.sellCount"}},[a("template",{slot:"append"},[e._v("次")])],2)],1)],1):e._e(),a("div",{staticClass:"tipsInfo"},[0===e.form.type?a("el-tag",{attrs:{type:"danger",size:"medium"}},[e._v("例如：您设置买入金额为2"+e._s(e.global.symbol)+"，买入次数为5次，则科学家会自动连续购买2"+e._s(e.global.symbol)+"，买5次，一共买10"+e._s(e.global.symbol))]):e._e(),1===e.form.type?a("el-tag",{attrs:{type:"danger",size:"medium"}},[e._v("例如：您设置卖出数量为2，卖出次数为5次，则科学家会自动连续卖出2个，卖5次，一共卖出10个")]):e._e()],1),1===e.form.type?a("el-form-item",{attrs:{label:"当前价格"}},[a("el-input",{attrs:{placeholder:"当前价格"},model:{value:e.form.contractPrice,callback:function(t){e.$set(e.form,"contractPrice",t)},expression:"form.contractPrice"}},[a("template",{slot:"append"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.getTokenPrice,expression:"loading.getTokenPrice"}],on:{click:e.getTokenPrice}},[e._v("USDT获取最近价格")])],1)],2)],1):e._e(),a("el-form-item",{attrs:{label:"抢购速度"}},[a("el-slider",{attrs:{min:e.global.defaultGasPrice,max:e.global.maxGas},model:{value:e.global.gasPrice,callback:function(t){e.$set(e.global,"gasPrice",t)},expression:"global.gasPrice"}})],1),a("div",{staticClass:"tipsInfo"},[a("el-tag",{attrs:{type:"danger",size:"medium"}},[e._v("单次gas费用 "+e._s(e.global.gasPrice)+" ≈ "+e._s(e.getGasPriceCom)+" "+e._s(e.global.symbol)+" ( 最少预留约 "+e._s(2*e.getGasPriceCom)+" "+e._s(e.global.symbol)+" )")])],1),0===e.form.type?a("div",{staticClass:"failTips",staticStyle:{display:"flex","flex-wrap":"wrap"}},[a("el-form-item",{attrs:{label:"Hash检查:"}},[a("el-switch",{model:{value:e.form.resultCheck,callback:function(t){e.$set(e.form,"resultCheck",t)},expression:"form.resultCheck"}}),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"下单完成后是否要检查本次购买是否成功，开启则需要多花几秒钟时间",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-form-item",{attrs:{label:"监控(毫秒):"}},[a("el-switch",{model:{value:e.form.monitorSwitch,callback:function(t){e.$set(e.form,"monitorSwitch",t)},expression:"form.monitorSwitch"}}),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"流动池实时监控,根据自己网络调整.",placement:"top"}},[a("i",{staticClass:"el-icon-question"})]),e.form.monitorSwitch?a("el-input-number",{attrs:{min:100},model:{value:e.form.monitorTime,callback:function(t){e.$set(e.form,"monitorTime",t)},expression:"form.monitorTime"}}):e._e()],1),a("el-form-item",{attrs:{label:"买入失效(秒):"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"交易发出后几秒内未成交就交易失败,建议设置区间20-60",placement:"top"}},[a("i",{staticClass:"el-icon-question"})]),a("el-input-number",{attrs:{min:20,"controls-position":"right"},model:{value:e.form.deadline,callback:function(t){e.$set(e.form,"deadline",t)},expression:"form.deadline"}})],1),a("el-form-item",{attrs:{label:"延迟下单(毫秒):"}},[a("el-switch",{model:{value:e.form.delaySwitch,callback:function(t){e.$set(e.form,"delaySwitch",t)},expression:"form.delaySwitch"}}),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"下单前进行延迟一段时间,防止下单快的情况",placement:"top"}},[a("i",{staticClass:"el-icon-question"})]),e.form.delaySwitch?a("el-input-number",{attrs:{min:0},model:{value:e.form.delayTime,callback:function(t){e.$set(e.form,"delayTime",t)},expression:"form.delayTime"}}):e._e()],1)],1):e._e()],1)],1),a("el-form",{ref:"advanced",attrs:{model:e.advanced,"label-width":e.lWidth}},[a("el-card",{staticClass:"box-card"},[a("el-form-item",{attrs:{label:"高级功能"}},[a("el-switch",{attrs:{disabled:!e.global.isVip},on:{change:e.advancedSwitch},model:{value:e.advanced.switch,callback:function(t){e.$set(e.advanced,"switch",t)},expression:"advanced.switch"}}),0===e.form.type?a("el-tag",{staticStyle:{"white-space":"pre-wrap",height:"auto"},attrs:{type:"danger",size:"medium"}},[e._v("是否开启智能出本开关 ,需VIP特权")]):e._e()],1),0===e.form.type?a("div",{staticClass:"failTips",staticStyle:{display:"flex","flex-wrap":"wrap"}},[a("el-form-item",{attrs:{label:"燃Gas模式:"}},[a("el-switch",{attrs:{disabled:!e.global.isVip},on:{change:e.OnFailRetrySwitch},model:{value:e.form.failRetry,callback:function(t){e.$set(e.form,"failRetry",t)},expression:"form.failRetry"}}),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"烧Gas模式无限烧，需要最够的手续费",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e.form.failRetry?a("el-form-item",{attrs:{label:"间隔时间(毫秒):"}},[e.form.failRetry?a("el-input-number",{attrs:{min:100},model:{value:e.form.failRetryTime,callback:function(t){e.$set(e.form,"failRetryTime",t)},expression:"form.failRetryTime"}}):e._e()],1):e._e()],1):e._e(),a("el-form-item",{attrs:{label:"最小可得数量"}},[a("el-input",{attrs:{placeholder:"请输入最小可得数量，默认为0"},model:{value:e.advanced.slippage,callback:function(t){e.$set(e.advanced,"slippage",t)},expression:"advanced.slippage"}}),0===e.form.type?a("el-tag",{staticStyle:{"white-space":"pre-wrap",height:"auto"},attrs:{type:"danger",size:"medium"}},[e._v("例子：假设币的开盘价格是1U，您使用10U去购买，如果最小数量填写5，购买数量达不到最小数量时，则交易回滚")]):e._e(),1===e.form.type?a("el-tag",{staticStyle:{"white-space":"pre-wrap",height:"auto"},attrs:{type:"danger",size:"medium"}},[e._v("例子：出售代币获得交易币种时(BNB或者USDT)，如获得的交易币种小于最小数量时，则交易回滚")]):e._e()],1),0===e.form.type?a("div",{staticClass:"buyAmount",staticStyle:{display:"flex"}},[a("el-form-item",{attrs:{label:"价格上涨"}},[a("el-input",{attrs:{placeholder:"价格上涨"},model:{value:e.advanced.increaseRate,callback:function(t){e.$set(e.advanced,"increaseRate",t)},expression:"advanced.increaseRate"}},[a("template",{slot:"append"},[e._v("%")])],2)],1),a("el-form-item",{attrs:{label:"卖出比例"}},[a("el-input",{attrs:{placeholder:"卖出比例"},model:{value:e.advanced.sellRate,callback:function(t){e.$set(e.advanced,"sellRate",t)},expression:"advanced.sellRate"}},[a("template",{slot:"append"},[e._v("%")])],2)],1)],1):e._e()],1)],1),a("div",{staticClass:"startBtn"},[a("a",{staticClass:"learn",attrs:{href:"https://www.youtube.com/watch?v=07ZJ0bvEKn4&list=PLGiGi3wdoLe0el5oktcf6dZbMKVm1Gj6D",target:"_blank"}},[e._v("教程视频学习")]),0===e.form.type?a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.buying,expression:"loading.buying"}],attrs:{type:"success"},on:{click:function(t){return e.buying()}}},[e._v("立即抢购")]):e._e(),1===e.form.type?a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.selling,expression:"loading.selling"}],attrs:{type:"success"},on:{click:function(t){return e.selling()}}},[e._v("立即出售")]):e._e()],1),a("el-dialog",{attrs:{title:"操作信息",visible:e.dialog.cmdInfo,"close-on-press-escape":!1,"close-on-click-modal":!1,width:"100%"},on:{"update:visible":function(t){return e.$set(e.dialog,"cmdInfo",t)},closed:e.handleClose}},[e.global.cmdInfo.length>0?a("div",{staticClass:"cmdInfo"},[a("ul",e._l(e.global.cmdInfo,(function(t,n){return a("li",[e._v("["+e._s(n)+"] "+e._s(t))])})),0)]):e._e(),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[0===e.form.type&&e.advanced.switch?a("el-button",{attrs:{type:"success"},on:{click:function(t){return e.allSell()}}},[e._v("一键卖出")]):e._e(),a("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.stopReturn()}}},[e._v("停止")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleClose()}}},[e._v("返回")])],1)])],1)}),[],!1,null,"ee762790",null);t.default=C.exports},a561:function(e,t,a){"use strict";var n=a("c7eb"),r=a("1da1"),o=(a("4de4"),a("d3b7"),a("99e5")),s=a.n(o),l={name:"SwitchNetwork",props:{show:{type:Boolean,default:!1}},data:function(){return{lWidth:"650px",nodeUrl:"",loading:{select:!1},restaurants:[{value:"https://bsc-dataseed1.binance.org/"},{value:"https://bsc-dataseed2.binance.org/"},{value:"https://bsc-dataseed3.binance.org/"},{value:"https://bsc-dataseed4.binance.org/"},{value:"https://bsc-dataseed2.defibit.io/"}]}},methods:{querySearch:function(e,t){var a=this.restaurants;t(e?a.filter(this.createFilter(e)):a)},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},loadNode:function(){var e=this;return Object(r.a)(Object(n.a)().mark((function t(){var a,r,o;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.nodeUrl){t.next=3;break}return e.$message.error("节点地址错误，请检查是否输入正确！"),t.abrupt("return");case 3:return t.prev=3,e.loading.select=!0,a=new s.a(new s.a.providers.HttpProvider(e.nodeUrl)),r=Date.now(),t.next=9,a.eth.getBlockNumber();case 9:o=t.sent,Date.now()-r,e.$message.success("当前区块:".concat(o)),e.$emit("loadNode",{nodeUrl:e.nodeUrl}),e.closeDialog(),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(3),e.$message.error(t.t0.message);case 20:return t.prev=20,e.loading.select=!1,t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[3,17,20,23]])})))()},closeDialog:function(){this.nodeUrl="",this.$emit("close")}},created:function(){document.body.clientWidth<640&&(this.lWidth="90%")}},c=l,i=a("2877"),u=Object(i.a)(c,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-dialog",{staticClass:"loadPrvKey",attrs:{title:"切换节点",visible:e.show,"append-to-body":!0,"close-on-press-escape":!1,"close-on-click-modal":!1,"show-close":!0,width:e.lWidth,"before-close":e.closeDialog},on:{"update:visible":function(t){e.show=t}}},[a("div",{staticClass:"loadPrvKey",staticStyle:{display:"flex"}},[a("el-autocomplete",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.select,expression:"loading.select"}],staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入/选择节点完整地址"},model:{value:e.nodeUrl,callback:function(t){e.nodeUrl=t},expression:"nodeUrl"}}),a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.select,expression:"loading.select"}],attrs:{type:"success"},on:{click:function(t){return e.loadNode()}}},[e._v("加载")])],1)])],1)}),[],!1,null,"e9bd782e",null);t.a=u.exports},a809:function(e,t,a){"use strict";var n=(a("99e5"),{name:"loadPrivateKey",props:{show:{type:Boolean,default:!1},web3:{}},data:function(){return{lWidth:"650px",privateKey:"",loading:{select:!1}}},methods:{loadPrv:function(){if(this.privateKey)try{var e=this.web3.eth.accounts.privateKeyToAccount(this.privateKey,!0);this.$emit("getUserData",e),this.closeDialog()}catch(e){this.$message.error(e.message)}else this.$message.error("私钥载入错误，请检查是否输入正确！")},closeDialog:function(){this.privateKey="",this.$emit("close")}},created:function(){document.body.clientWidth<640&&(this.lWidth="90%")}}),r=n,o=a("2877"),s=Object(o.a)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-dialog",{staticClass:"loadPrvKey",attrs:{title:"加载私钥",visible:e.show,"append-to-body":!0,"close-on-press-escape":!1,"close-on-click-modal":!1,"show-close":!0,width:e.lWidth,"before-close":e.closeDialog},on:{"update:visible":function(t){e.show=t}}},[a("div",{staticClass:"loadPrvKey",staticStyle:{display:"flex"}},[a("el-input",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.select,expression:"loading.select"}],attrs:{"show-password":!0,placeholder:"请输入钱包私钥"},model:{value:e.privateKey,callback:function(t){e.privateKey=t},expression:"privateKey"}}),a("el-button",{attrs:{type:"success"},on:{click:function(t){return e.loadPrv()}}},[e._v("加载")])],1)])],1)}),[],!1,null,"8eccd106",null);t.a=s.exports}}]);