(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-12dcd64c"],{"0ae3":function(t,e,i){"use strict";i("823c")},"0f2a":function(t,e,i){t.exports=i.p+"static/img/right.8b4980f6.png"},"1df8":function(t,e,i){"use strict";var n=(i("a9e3"),{props:{index:{type:Number,default:1},number:{type:Number,default:0},fixed:{type:Boolean,default:!1},background:{type:String,default:"#000"},flashColor:{type:String,default:"#939AA7"}}}),o=(i("0ae3"),i("2877")),r=Object(o.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"skeleton"},[t.fixed||t.number?t._e():i("div",{staticClass:"block"},t._l(t.index,(function(t,e){return i("ul",{key:e},[i("li"),i("li"),i("li")])})),0),t.number?i("div",{staticClass:"number"},t._l(t.number,(function(e,n){return i("div",{key:n,style:"background-image: linear-gradient(90deg, "+t.background+" 25%, "+t.flashColor+" 37%, "+t.background+" 63%)"})})),0):t._e(),t.fixed?i("div",{staticClass:"fixed"},[i("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[i("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})])]):t._e()])}),[],!1,null,"6cb207d2",null);e.a=r.exports},"329d":function(t,e,i){"use strict";i("3ce6")},"34eb":function(t,e,i){t.exports=i.p+"static/img/left.4c008f03.png"},"3ce6":function(t,e,i){},"823c":function(t,e,i){},8997:function(t,e,i){"use strict";i.r(e);var n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ornament"},[e("div",{staticClass:"cLgFqB"}),e("div",{staticClass:"left"},[e("img",{attrs:{src:i("34eb"),alt:""}})]),e("div",{staticClass:"right"},[e("img",{attrs:{src:i("0f2a"),alt:""}})])])}],o=i("c7eb"),r=i("1da1"),s=i("5530"),a=(i("b680"),i("99e5")),c=i.n(a),l=i("2f62"),d=i("901e"),u=i.n(d),m=i("e95b"),p=i("51d2"),f=i("ed08"),g=i("b893"),b=i("ac09"),h=i("8325"),v=i("1df8"),w=(i("a4d3"),i("e01a"),i("79fa")),x={name:"editMining",props:{show:{type:Boolean,default:!1},introductionFrom:{}},computed:Object(s.a)({},Object(l.d)({device:function(t){return t.app.device}})),data:function(){return{loading:{edit:!1},introductionRules:{dailyReward:[{required:!0,message:w.a.t("mining.dailyRewardNull"),trigger:"change"}],logoUrl:[{required:!0,message:w.a.t("mining.logoUrlError"),trigger:"change"},{required:!0,message:w.a.t("mining.logoUrlError"),trigger:"blur"}],webSite:[{required:!0,message:w.a.t("mining.webSiteError"),trigger:"change"},{required:!0,message:w.a.t("mining.webSiteError"),trigger:"blur"}]}}},methods:{closeDepositModel:function(){this.$emit("dialogClose")},onSubmit2:function(t){var e=this;return Object(r.a)(Object(o.a)().mark((function i(){var n,r,s,a,c,l,d,u,m,p,f;return Object(o.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,e.loading.edit=!0,i.next=4,e.$refs[t].validate().catch((function(t){return!1}));case 4:if(!i.sent){i.next=22;break}return n=e.introductionFrom.logoUrl,r=e.introductionFrom.webSite,s=e.introductionFrom.faceBook,a=e.introductionFrom.twitter,c=e.introductionFrom.github,l=e.introductionFrom.telegram,d=e.introductionFrom.instagram,u=e.introductionFrom.discord,m=e.introductionFrom.reddit,p=e.introductionFrom.description,f=[n,r,s,a,c,l,d,u,m,p],i.next=20,Object(b.m)(e.introductionFrom.poolAddress,f);case 20:i.sent&&(e.$message.success(e.$t("success")),e.closeDepositModel());case 22:return i.prev=22,e.loading.edit=!1,i.finish(22);case 25:case"end":return i.stop()}}),i,null,[[0,,22,25]])})))()}}},k=x,_=i("2877"),y=Object(_.a)(k,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:t.$t("mining.editInfo"),visible:t.show,"close-on-press-escape":!1,"close-on-click-modal":!1,width:"mobile"===t.device?"100%":"50%"},on:{"update:visible":function(e){t.show=e}}},[i("div",{staticClass:"edit-media"},[i("div",{staticClass:"form"},[i("el-form",{ref:"introductionFrom",attrs:{model:t.introductionFrom,rules:t.introductionRules}},[i("el-form-item",{attrs:{rules:t.introductionRules.logoUrl,prop:"logoUrl",label:"Logo URL"}},[i("el-input",{attrs:{placeholder:"Ex: https://..."},model:{value:t.introductionFrom.logoUrl,callback:function(e){t.$set(t.introductionFrom,"logoUrl",e)},expression:"introductionFrom.logoUrl"}},[i("svg-icon",{staticClass:"icon",attrs:{slot:"prefix","icon-class":"image"},slot:"prefix"})],1)],1),i("el-form-item",{attrs:{rules:t.introductionRules.webSite,prop:"webSite",label:t.$t("mining.website")}},[i("el-input",{attrs:{placeholder:"Ex: https://..."},model:{value:t.introductionFrom.webSite,callback:function(e){t.$set(t.introductionFrom,"webSite",e)},expression:"introductionFrom.webSite"}},[i("svg-icon",{staticClass:"icon",attrs:{slot:"prefix","icon-class":"website"},slot:"prefix"})],1)],1),i("el-form-item",{attrs:{label:"Facebook"}},[i("el-input",{attrs:{placeholder:"Ex: https://facebook.com/..."},model:{value:t.introductionFrom.faceBook,callback:function(e){t.$set(t.introductionFrom,"faceBook",e)},expression:"introductionFrom.faceBook"}},[i("svg-icon",{staticClass:"icon",attrs:{slot:"prefix","icon-class":"facebook"},slot:"prefix"})],1)],1),i("el-form-item",{attrs:{label:"Twitter"}},[i("el-input",{attrs:{placeholder:"Ex: https://twitter.com/..."},model:{value:t.introductionFrom.twitter,callback:function(e){t.$set(t.introductionFrom,"twitter",e)},expression:"introductionFrom.twitter"}},[i("svg-icon",{staticClass:"icon",attrs:{slot:"prefix","icon-class":"twitter"},slot:"prefix"})],1)],1),i("el-form-item",{attrs:{label:"Github"}},[i("el-input",{attrs:{placeholder:"Ex: https://github.com/..."},model:{value:t.introductionFrom.github,callback:function(e){t.$set(t.introductionFrom,"github",e)},expression:"introductionFrom.github"}},[i("svg-icon",{staticClass:"icon",attrs:{slot:"prefix","icon-class":"github"},slot:"prefix"})],1)],1),i("el-form-item",{attrs:{label:"Telegram"}},[i("el-input",{attrs:{placeholder:"Ex: https://t.me/..."},model:{value:t.introductionFrom.telegram,callback:function(e){t.$set(t.introductionFrom,"telegram",e)},expression:"introductionFrom.telegram"}},[i("svg-icon",{staticClass:"icon",attrs:{slot:"prefix","icon-class":"telegram"},slot:"prefix"})],1)],1),i("el-form-item",{attrs:{label:"Instagram"}},[i("el-input",{attrs:{placeholder:"Ex: https://instagram.com/..."},model:{value:t.introductionFrom.instagram,callback:function(e){t.$set(t.introductionFrom,"instagram",e)},expression:"introductionFrom.instagram"}},[i("svg-icon",{staticClass:"icon",attrs:{slot:"prefix","icon-class":"instagram"},slot:"prefix"})],1)],1),i("el-form-item",{attrs:{label:"Discord"}},[i("el-input",{attrs:{placeholder:"Ex: https://discord.com/..."},model:{value:t.introductionFrom.discord,callback:function(e){t.$set(t.introductionFrom,"discord",e)},expression:"introductionFrom.discord"}},[i("svg-icon",{staticClass:"icon",attrs:{slot:"prefix","icon-class":"discord"},slot:"prefix"})],1)],1),i("el-form-item",{attrs:{label:"Reddit"}},[i("el-input",{attrs:{placeholder:"Ex: https://reddit.com/..."},model:{value:t.introductionFrom.reddit,callback:function(e){t.$set(t.introductionFrom,"reddit",e)},expression:"introductionFrom.reddit"}},[i("svg-icon",{staticClass:"icon",attrs:{slot:"prefix","icon-class":"reddit"},slot:"prefix"})],1)],1),i("el-form-item",{staticStyle:{width:"98%"},attrs:{label:"Description"}},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:40},placeholder:"Ex: This is the best project..."},model:{value:t.introductionFrom.description,callback:function(e){t.$set(t.introductionFrom,"description",e)},expression:"introductionFrom.description"}})],1),i("el-form-item",{staticStyle:{"text-align":"center"}},[i("el-button",{attrs:{type:"info",plain:""},on:{click:t.closeDepositModel}},[t._v(t._s(t.$t("createToken.close")))]),i("el-button",{attrs:{type:"primary",loading:t.loading.edit},on:{click:function(e){return t.onSubmit2("introductionFrom")}}},[t._v(t._s(t.$t("mining.setup3")))])],1)],1)],1)])])}),[],!1,null,"4d8abdec",null),F=y.exports,C={name:"list",components:{Skeleton:v.a,EditMining:F},computed:Object(s.a)({},Object(l.d)({chainNetwork:function(t){return t.dapp.chainNetwork},networkId:function(t){return t.dapp.web3.networkId},myAddress:function(t){return t.dapp.web3.account},initial:function(t){return t.dapp.web3.initial},menu:function(t){return t.settings.menu},web3Instance:function(t){return t.dapp.web3.web3Instance}})),watch:{initial:function(){this.initialData()}},directives:{clipboard:h.a},data:function(){return{hostName:"",parseTime:f.l,hiddenAddress:f.i,curTime:0,loading:{load:!1},tableData:[],dialog:{show:!1},introductionFrom:{}}},methods:{dialogClose:function(){this.introductionFrom={},this.dialog.show=!1,this.initialData()},edit:function(t){this.introductionFrom=Object(g.e)(t),this.dialog.show=!0},dayReward:function(t){var e=t.duration/86400,i=Object(f.e)(t.totalAccumulatedReward,t.rewardTokenDecimals);return new u.a(i).dividedBy(e).toFixed(2)},calcDays:function(t){var e=t.duration/86400,i=parseInt((t.periodFinish-this.curTime)/86400);return i>=e&&(i=e),parseInt(i)<0&&(i=0),parseInt(i)+"/"+e},calcReward:function(t){var e=t.duration/86400,i=new u.a(Object(f.e)(t.totalAccumulatedReward,t.rewardTokenDecimals)),n=i.dividedBy(e),o=parseInt((t.periodFinish-this.curTime)/86400);o>=e&&(o=e);var r=n.multipliedBy(o).toFixed(2);return r<0&&(r=0),r+"/"+i.toFixed(2)},clipboardSuccess:function(){this.$message({message:this.$t("copySuccess"),type:"success",duration:1500})},jumpCreate:function(){this.$router.push("/mining/create")},initialData:function(){var t=this;return Object(r.a)(Object(o.a)().mark((function e(){var i,n,r,s,a,l,d,u,f,h,v,w;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.hostName=window.location.protocol+"//"+window.location.hostname,t.tableData=[],t.myAddress){e.next=5;break}return e.abrupt("return");case 5:if(t.loading.load=!0,(i=Object(g.i)(t.networkId)).miningAddress){e.next=11;break}return t.$message.error(t.$t("networkError.networkNotSupport")),t.loading.load=!1,e.abrupt("return");case 11:return t.miningAddress=i.miningAddress,t.web3=new c.a(new c.a.providers.HttpProvider(i.rpcUrls[0])),e.next=15,t.web3.eth.getBlock("pending");case 15:return n=e.sent,t.curTime=n.timestamp,e.next=19,Object(b.g)(t.web3,t.miningAddress,t.myAddress);case 19:r=e.sent,s=0;case 22:if(!(s<r)){e.next=75;break}return e.next=25,Object(b.e)(t.web3,t.miningAddress,t.myAddress,s);case 25:return a=e.sent,e.next=28,Object(b.f)(t.web3,a);case 28:if((l=e.sent).poolAddress=a,!l.isLpToken){e.next=55;break}return e.next=34,new t.web3.eth.Contract(m.abi,l.lpt);case 34:return d=e.sent,e.next=37,d.methods.token0().call();case 37:return l.token0=e.sent,e.next=40,d.methods.token1().call();case 40:return l.token1=e.sent,e.next=43,new t.web3.eth.Contract(p.abi,l.token0);case 43:return u=e.sent,e.next=46,u.methods.symbol().call();case 46:return l.token0Name=e.sent,e.next=49,new t.web3.eth.Contract(p.abi,l.token1);case 49:return f=e.sent,e.next=52,f.methods.symbol().call();case 52:l.token1Name=e.sent,e.next=61;break;case 55:return e.next=57,new t.web3.eth.Contract(p.abi,l.lpt);case 57:return h=e.sent,e.next=60,h.methods.symbol().call();case 60:l.tokenName=e.sent;case 61:return e.next=63,new t.web3.eth.Contract(p.abi,l.rewardToken);case 63:return v=e.sent,e.next=66,v.methods.symbol().call();case 66:return l.rewardTokenName=e.sent,e.next=69,v.methods.decimals().call();case 69:w=e.sent,l.rewardTokenDecimals=parseInt(w),t.tableData.push(l);case 72:s++,e.next=22;break;case 75:t.loading.load=!1;case 76:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.initialData()}},S=C,$=(i("329d"),Object(_.a)(S,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{staticClass:"top"},[t._m(0),i("div",{staticClass:"center"},[i("span",[t._v(t._s(t.$t("mining.tips1")))]),i("span",[t._v(t._s(t.$t("mining.tips2")))]),i("span",[i("i",{staticClass:"el-icon-document",staticStyle:{"margin-right":"12px"}}),i("a",{attrs:{href:"https://docs.tokentool.app/mining/create-a-mining",target:"_blank"}},[t._v(t._s(t.$t("mining.view")))])]),i("el-button",{staticClass:"btn",staticStyle:{"font-size":"16px","font-weight":"600",cursor:"pointer","z-index":"2"},attrs:{type:"primary"},on:{click:function(e){return t.jumpCreate()}}},[t._v("创建挖矿")])],1)]),i("div",{staticClass:"mylist"},[i("h5",[t._v(t._s(t.$t("mining.myList")))]),t.loading.load?i("Skeleton",{attrs:{index:1}}):i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"medium","max-height":"500px"}},[i("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticStyle:{display:"flex",width:"100%","padding-left":"20px"}},[i("div",{staticStyle:{flex:"1","font-size":"16px","line-height":"30px","font-weight":"400",color:"rgba(26, 26, 27, 0.5)"}},[t._v("奖励")]),i("div",{staticStyle:{flex:"1","font-size":"16px","line-height":"30px","font-weight":"400",color:"rgba(26, 26, 27, 0.5)"}},[t._v("剩余天数/总天数")]),i("div",{staticStyle:{flex:"1","font-size":"16px","line-height":"30px","font-weight":"400",color:"rgba(26, 26, 27, 0.5)"}},[t._v("每日奖励数量")]),i("div",{staticStyle:{flex:"1","font-size":"16px","line-height":"30px","font-weight":"400",color:"rgba(26, 26, 27, 0.5)"}},[t._v("剩余奖励/总奖励")]),i("div",{staticStyle:{flex:"1","font-size":"16px","line-height":"30px","font-weight":"400",color:"rgba(26, 26, 27, 0.5)"}})]),i("div",{staticStyle:{display:"flex",width:"100%","padding-left":"20px"}},[i("div",{staticStyle:{flex:"1","line-height":"30px",color:"#1a1a1b"}},[t._v(t._s(e.row.rewardTokenName))]),i("div",{staticStyle:{flex:"1","line-height":"30px",color:"#1a1a1b"}},[t._v(t._s(t.calcDays(e.row)))]),i("div",{staticStyle:{flex:"1","line-height":"30px",color:"#1a1a1b"}},[t._v(t._s(t.dayReward(e.row)))]),i("div",{staticStyle:{flex:"1","line-height":"30px",color:"#1a1a1b"}},[t._v(t._s(t.calcReward(e.row)))]),i("div",{staticStyle:{flex:"1","line-height":"30px",color:"#1a1a1b"}})])]}}])}),i("el-table-column",{attrs:{label:t.$t("mining.miningType"),"min-width":"200px",prop:"type"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",[t._v(t._s(e.row.isLpToken?t.$t("mining.lpMing"):t.$t("mining.coinMing")))])]}}])}),i("el-table-column",{attrs:{label:t.$t("mining.mingAddress"),"min-width":"200px",prop:"poolAddress"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",[t._v(t._s(t.hiddenAddress(e.row.poolAddress))+" "),i("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.row.poolAddress,expression:"scope.row.poolAddress",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.clipboardSuccess,expression:"clipboardSuccess",arg:"success"}],staticClass:"el-icon-document-copy"})])]}}])}),i("el-table-column",{attrs:{label:t.$t("mining.stakeCoin"),"min-width":"180px",prop:"pledgeToken"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",[t._v(" "+t._s(e.row.isLpToken?e.row.token0Name+"-"+e.row.token1Name:e.row.tokenName)+" ")])]}}])}),i("el-table-column",{attrs:{label:t.$t("mining.startTime"),"min-width":"200px",prop:"startTime"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",[t._v(" "+t._s(t.parseTime(e.row.starttime))+" ")])]}}])}),i("el-table-column",{attrs:{label:t.$t("mining.endTime"),"min-width":"200px",prop:"endTime"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",[t._v(" "+t._s(t.parseTime(e.row.periodFinish))+" ")])]}}])}),i("el-table-column",{attrs:{"min-width":"130px",fixed:"right",align:"center",label:"",prop:"desc"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.hostName+"/mining/detail/"+e.row.poolAddress+"?chainId="+t.networkId,expression:"hostName + '/mining/detail/' + scope.row.poolAddress + '?chainId='+networkId",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.clipboardSuccess,expression:"clipboardSuccess",arg:"success"}],staticClass:"ddzcNo"},[i("i",{staticClass:"el-icon-share"}),i("span",[t._v(t._s(t.$t("mining.inviteShare")))])]),i("button",{staticClass:"ddzcNo",on:{click:function(i){return t.edit(e.row)}}},[i("i",{staticClass:"el-icon-edit"}),i("span",[t._v(t._s(t.$t("mining.edit")))])])]}}])})],1)],1),i("div",{staticClass:"manual"},[i("h5",[t._v(t._s(t.$t("mining.flowDesc")))]),i("div",{staticClass:"flex"},[i("div",{staticClass:"item"},[i("div",{staticClass:"title"},[i("span",[t._v("1")]),i("span",[t._v(t._s(t.$t("mining.stakeRule")))])]),i("span",[t._v(t._s(t.$t("mining.oneTips")))])]),i("div",{staticClass:"item"},[i("div",{staticClass:"title"},[i("span",[t._v("2")]),i("span",[t._v(t._s(t.$t("mining.settingTips")))])]),i("span",[t._v(t._s(t.$t("mining.twoTips")))])]),i("div",{staticClass:"item"},[i("div",{staticClass:"title"},[i("span",[t._v("3")]),i("span",[t._v(t._s(t.$t("mining.shareUrl")))])]),i("span",[t._v(t._s(t.$t("mining.threeTips")))])])])]),i("EditMining",{attrs:{show:t.dialog.show,introductionFrom:t.introductionFrom},on:{dialogClose:function(e){return t.dialogClose()}}})],1)}),n,!1,null,"139a48e0",null));e.default=$.exports}}]);